<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-xcode">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Xcode | yianzhou</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://yianzhou.github.io/docs/apple/xcode"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Xcode | yianzhou"><meta data-rh="true" name="description" content="版本"><meta data-rh="true" property="og:description" content="版本"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yianzhou.github.io/docs/apple/xcode"><link data-rh="true" rel="alternate" href="https://yianzhou.github.io/docs/apple/xcode" hreflang="en"><link data-rh="true" rel="alternate" href="https://yianzhou.github.io/docs/apple/xcode" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.6a91212d.css">
<link rel="preload" href="/assets/js/runtime~main.0388ab28.js" as="script">
<link rel="preload" href="/assets/js/main.e115001f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="yianzhou" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="yianzhou" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">yianzhou</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/apple">Apple</a><a class="navbar__item navbar__link" href="/docs/dev">开发</a><a class="navbar__item navbar__link" href="/docs/language">编程语言</a><a class="navbar__item navbar__link" href="/docs/flutter">Flutter</a><a class="navbar__item navbar__link" href="/docs/insights">Insights</a><a class="navbar__item navbar__link" href="/docs/codes">Codes</a><a class="navbar__item navbar__link" href="/docs/ai">AI</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yianzhou/yianzhou.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/SDWebImage">SDWebImage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/UIKit">UIKit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/afnetworking">AFNetworking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/app-extension">App Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/app-in-the-background">App in the Background</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/app-size">包大小</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/app-startup">App Startup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/apple-bugs">Apple Bugs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/aspects">Aspects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/cicd">CICD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/cocoapods">Cocoapods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/core-animation">Core Animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/crash">崩溃</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple">Debug</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/frameworks">Frameworks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/graphics">图形渲染</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/http">HTTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/instruments">Instruments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/lag">卡顿</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/llvm">LLVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/mach-o">Mach-O</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/matrix">Matrix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/memory">内存</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/metal">Metal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/multithread">多线程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/networking">Apple Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/performance">性能优化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/semaphore">信号量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/symbolic">符号化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/uiscene">UIScene</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/unified-logging">Unified Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/uniform-type-identifiers">Uniform Type Identifiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/user-notification">User Notification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/webkit">WebKit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/wwdc">WWDC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/wwdc23">WWDC23</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/xcassets">XCAssets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/apple/xcode">Xcode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/xctest">XCTest</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/apple/音视频/audio-video">音视频</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apple/项目配置">项目配置</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Xcode</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Xcode</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本">版本<a href="#版本" class="hash-link" aria-label="Direct link to 版本" title="Direct link to 版本">​</a></h2><p>切换 Xcode 版本：<a href="https://github.com/RobotsAndPencils/XcodesApp" target="_blank" rel="noopener noreferrer">RobotsAndPencils/XcodesApp: The easiest way to install and switch between multiple versions of Xcode - with a mouse click.</a></p><p>查看 Xcode SDK 版本：<code>xcodebuild -version -sdk</code></p><p><a href="https://xcodereleases.com/" target="_blank" rel="noopener noreferrer">https://xcodereleases.com/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="调试技巧">调试技巧<a href="#调试技巧" class="hash-link" aria-label="Direct link to 调试技巧" title="Direct link to 调试技巧">​</a></h2><p>如何查看宏定义展开后的样子：打开要查看的文件，Xcode - Product - Perform Action - Preprocess File。</p><p><code>po bt all</code> 打印全部堆栈信息（print object, backtrace）</p><p>你会发现输出的信息中带有 <code>$1</code>、<code>$2</code> 的字样。实际上，lldb 的每次查询结果会保存在一些持续变量中，<code>(\$[0-9]+)</code>，之后可以直接使用、修改这些值。</p><p>清空 <code>UserDefaults</code>：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expr [[NSUserDefaults standardUserDefaults] setPersistentDomain:[NSDictionary dictionary] forName:[[NSBundle mainBundle] bundleIdentifier]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>将字典打印成 json：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">p print(String(data: try! JSONSerialization.data(withJSONObject: dict, options: .prettyPrinted), encoding: .utf8 )!)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>创建 Swift 变量：<code>e var $map = [&quot;a&quot;: 1]</code>，打印：<code>po $map</code></p><p>打印模拟器沙盒路径：<code>po NSHomeDirectory()</code></p><p>如何解码二进制 plist 文件：VSCode 安装插件即可查看。备用：<a href="https://georgegarside.com/blog/macos/decode-data-plist/" target="_blank" rel="noopener noreferrer">Decode data plist in property list files – George Garside</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="在-xcode-中打开-terminal">在 Xcode 中打开 Terminal<a href="#在-xcode-中打开-terminal" class="hash-link" aria-label="Direct link to 在 Xcode 中打开 Terminal" title="Direct link to 在 Xcode 中打开 Terminal">​</a></h2><p>1<!-- -->.<!-- --> Create executable shell script with the following contents and save it anywhere</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> -a Terminal </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">`</span><span class="token string variable builtin class-name" style="color:#36acaa">pwd</span><span class="token string variable" style="color:#36acaa">`</span><span class="token string" style="color:#e3116c">&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>2<!-- -->.<!-- --> Add execute permissions to your script: <code>chmod +x &lt;YourShellScript&gt;</code></p><p>3<!-- -->.<!-- --> In the Xcode menu bar, Go to Xcode -&gt; Preferences -&gt; Behaviors.</p><p>4<!-- -->.<!-- --> Add a Custom behavior, name it &quot;Open Terminal&quot;. (Optional) Configure a hotkey for the behavior.</p><p>5<!-- -->.<!-- --> Checkmark Run, select you script from step 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="模拟器安装路径">模拟器安装路径<a href="#模拟器安装路径" class="hash-link" aria-label="Direct link to 模拟器安装路径" title="Direct link to 模拟器安装路径">​</a></h2><p>Runtimes: <code>$ open /Library/Developer/CoreSimulator/Profiles/Runtimes</code></p><p>Devices: <code>$ open ~/Library/Developer/CoreSimulator/Devices</code></p><p>查看可用的模拟器：<code>xcrun simctl list</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="infoplist">Info.plist<a href="#infoplist" class="hash-link" aria-label="Direct link to Info.plist" title="Direct link to Info.plist">​</a></h2><p><code>UIFileSharingEnabled</code> 在 iTunes File Sharing 中可见</p><p><code>NSAppTransportSecurity</code> 允许非 HTTPS</p><p><code>LSSupportsOpeningDocumentsInPlace</code>: A Boolean value indicating whether the app may open the original document from a file provider, rather than a copy of the document.</p><p><code>UISupportsDocumentBrowser</code>: To allow other apps to open and edit the files stored in your app’s Documents folder, set this key to YES. This key also lets users set the app’s default save location in Settings.</p><p>plist 文件里声明 <a href="https://developer.apple.com/support/required-device-capabilities/" target="_blank" rel="noopener noreferrer">Required Device Capabilities</a>，保证用户只下载到他们设备所支持的 App</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="环境变量">环境变量<a href="#环境变量" class="hash-link" aria-label="Direct link to 环境变量" title="Direct link to 环境变量">​</a></h2><p>在命令行输入：<code>export OBJC_HELP=1</code>，再输入任意命令例如 <code>ls</code>，会打印以下内容：</p><div class="language-log codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-log codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: Objective-C runtime debugging. Set variable=YES to enable.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_HELP: describe available environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_OPTIONS: list which options are set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_IMAGES: log image and library names as they are loaded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_IMAGE_TIMES: measure duration of image loading steps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_LOAD_METHODS: log calls to class and category +load methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_INITIALIZE_METHODS: log calls to class +initialize methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_RESOLVED_METHODS: log methods created by +resolveClassMethod: and +resolveInstanceMethod:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_CLASS_SETUP: log progress of class and category setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_PROTOCOL_SETUP: log progress of protocol setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_IVAR_SETUP: log processing of non-fragile ivars</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_VTABLE_SETUP: log processing of class vtables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_VTABLE_IMAGES: print vtable images showing overridden methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_CACHE_SETUP: log processing of method caches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_FUTURE_CLASSES: log use of future classes for toll-free bridging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_PREOPTIMIZATION: log preoptimization courtesy of dyld shared cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_CXX_CTORS: log calls to C++ ctors and dtors for instance variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_EXCEPTIONS: log exception handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_EXCEPTION_THROW: log backtrace of every objc_exception_throw()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_ALT_HANDLERS: log processing of exception alt handlers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_REPLACED_METHODS: log methods replaced by category implementations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_DEPRECATION_WARNINGS: warn about calls to deprecated runtime functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_POOL_HIGHWATER: log high-water marks for autorelease pools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_CUSTOM_CORE: log classes with custom core methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_CUSTOM_RR: log classes with custom retain/release methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_CUSTOM_AWZ: log classes with custom allocWithZone methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_PRINT_RAW_ISA: log classes that require raw pointer isa fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_UNLOAD: warn about poorly-behaving bundles when unloaded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_FRAGILE_SUPERCLASSES: warn about subclasses that may have been broken by subsequent changes to superclasses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_NIL_SYNC: warn about @synchronized(nil), which does no synchronization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_NONFRAGILE_IVARS: capriciously rearrange non-fragile ivars</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_ALT_HANDLERS: record more info about bad alt handler use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_MISSING_POOLS: warn about autorelease with no pool in place, which may be a leak</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_POOL_ALLOCATION: halt when autorelease pools are popped out of order, and allow heap debuggers to track autorelease pools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_DUPLICATE_CLASSES: halt when multiple classes with the same name are present</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_DONT_CRASH: halt the process by exiting instead of crashing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_POOL_DEPTH: log fault when at least a set number of autorelease pages has been allocated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_SCRIBBLE_CACHES: scribble the IMPs in freed method caches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DEBUG_SCAN_WEAK_TABLES: scan the weak references table continuously in the background - set OBJC_DEBUG_SCAN_WEAK_TABLES_INTERVAL_NANOSECONDS to set scanning interval (default 1000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_VTABLES: disable vtable dispatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_PREOPTIMIZATION: disable preoptimization courtesy of dyld shared cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_TAGGED_POINTERS: disable tagged pointer optimization of NSNumber et al.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_TAG_OBFUSCATION: disable obfuscation of tagged pointers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_NONPOINTER_ISA: disable non-pointer isa fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_INITIALIZE_FORK_SAFETY: disable safety checks for +initialize after fork</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_FAULTS: disable os faults</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_PREOPTIMIZED_CACHES: disable preoptimized caches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_AUTORELEASE_COALESCING: disable coalescing of autorelease pool pointers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objc[90825]: OBJC_DISABLE_AUTORELEASE_COALESCING_LRU: disable coalescing of autorelease pool pointers using look back N strategy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="统计编译时间">统计编译时间<a href="#统计编译时间" class="hash-link" aria-label="Direct link to 统计编译时间" title="Direct link to 统计编译时间">​</a></h2><p>在 Xcode 中直接看到编译项目的时间：</p><ol><li>关闭 Xcode</li><li>终端执行 <code>defaults write com.apple.dt.Xcode ShowBuildOperationDuration YES</code></li><li>重启 Xcode</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ota">OTA<a href="#ota" class="hash-link" aria-label="Direct link to OTA" title="Direct link to OTA">​</a></h2><p>OTA 方式安装，是通过 WebKit 解析链接中的 itms-services:// 来实现的。例如：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;itms-services://?action=download-manifest&amp;url=https://zjhdreamteam.coding.net/p/OTADemo/git/raw/master/manifest.plist&quot;&gt;点击安装&lt;/a&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>浏览器会去读取 manifest.plist 中的信息，如：iOS 应用的名称、版本、安装地址等。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lldb">LLDB<a href="#lldb" class="hash-link" aria-label="Direct link to LLDB" title="Direct link to LLDB">​</a></h2><p>打印方法调用者：<code>po $x0</code></p><p>打印方法名：<code>po (SEL)$x1</code></p><p>打印参数：<code>po $x2</code>（以此类推，x3、x4 也可能是参数，如果是 x86 寄存器就是 r0、r1、r2）</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="打包">打包<a href="#打包" class="hash-link" aria-label="Direct link to 打包" title="Direct link to 打包">​</a></h2><p>.xcarchive 是一个 Xcode 归档文件，包含了应用程序的构建产物、符号表、dSYM 文件和其他调试信息。</p><p>使用 xcodebuild 命令行工具生成 .xcarchive 文件：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">xcodebuild -scheme YourScheme -configuration Release -sdk iphoneos -archivePath build/YourApp.xcarchive archive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>生成的 .xcarchive 文件通常位于 <code>build/</code> 目录下。</p><p>生成的 .app 文件通常位于 <code>build/YourApp.xcarchive/Products/Applications/</code> 目录下。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/yianzhou/yianzhou.github.io/docs/apple/xcode.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/apple/xcassets"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">XCAssets</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/apple/xctest"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">XCTest</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#版本" class="table-of-contents__link toc-highlight">版本</a></li><li><a href="#调试技巧" class="table-of-contents__link toc-highlight">调试技巧</a></li><li><a href="#在-xcode-中打开-terminal" class="table-of-contents__link toc-highlight">在 Xcode 中打开 Terminal</a></li><li><a href="#模拟器安装路径" class="table-of-contents__link toc-highlight">模拟器安装路径</a></li><li><a href="#infoplist" class="table-of-contents__link toc-highlight">Info.plist</a></li><li><a href="#环境变量" class="table-of-contents__link toc-highlight">环境变量</a></li><li><a href="#统计编译时间" class="table-of-contents__link toc-highlight">统计编译时间</a></li><li><a href="#ota" class="table-of-contents__link toc-highlight">OTA</a></li><li><a href="#lldb" class="table-of-contents__link toc-highlight">LLDB</a></li><li><a href="#打包" class="table-of-contents__link toc-highlight">打包</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">粤ICP备15029205号 Copyright © 2024 yianzhou</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0388ab28.js"></script>
<script src="/assets/js/main.e115001f.js"></script>
</body>
</html>