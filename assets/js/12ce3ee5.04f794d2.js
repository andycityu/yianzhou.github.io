"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5717],{63041:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>m});var l=n(87462),o=(n(67294),n(3905));n(61839);const a={},s="WASM",r={unversionedId:"wasm",id:"wasm",title:"WASM",description:"When you've written a new code module in a language like C/C++, you can compile it into WebAssembly using a tool like Emscripten.",source:"@site/docs/dev/wasm.md",sourceDirName:".",slug:"/wasm",permalink:"/docs/dev/wasm",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"VSCode",permalink:"/docs/dev/vscode"},next:{title:"\u6570\u636e\u53ef\u89c6\u5316",permalink:"/docs/dev/\u6570\u636e\u53ef\u89c6\u5316"}},i={},m=[],c={toc:m};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,l.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"wasm"},"WASM"),(0,o.kt)("p",null,"When you've written a new code module in a language like C/C++, you can compile it into WebAssembly using a tool like Emscripten."),(0,o.kt)("p",null,"Get the Emscripten SDK, using these instructions: ",(0,o.kt)("a",{parentName:"p",href:"https://emscripten.org/docs/getting_started/downloads.html"},"https://emscripten.org/docs/getting_started/downloads.html")),(0,o.kt)("p",null,"\u6bcf\u6b21\u7528\u7ec8\u7aef\u7a97\u53e3\uff0c\u5148\u5230 emsdk \u76ee\u5f55\u6267\u884c\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"# Activate PATH and other environment variables in the current terminal\nsource ./emsdk_env.sh\n")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/WebAssembly/C_to_wasm"},"Compiling a New C/C++ Module to WebAssembly - WebAssembly | MDN")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"emcc hello.c -o hello.html")," \u7f16\u8bd1\u540e\u5f97\u5230\uff1a",(0,o.kt)("inlineCode",{parentName:"p"},"hello.wasm"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"hello.js"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"hello.html")),(0,o.kt)("p",null,"\u76f4\u63a5\u6253\u5f00\u672c\u5730\u6587\u4ef6 HTML \u65e0\u6cd5\u4f7f\u7528\uff0c\u539f\u56e0\u662f\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Some browsers (including Chrome) will not run async requests (fetching data from remote server) if you just run the example from a local file. This is because of security restrictions."),(0,o.kt)("li",{parentName:"ul"},"Server-side languages (such as PHP or Python) require a special server to interpret the code and deliver the results."),(0,o.kt)("li",{parentName:"ul"},"Browsers commonly treat requests to load resources using the ",(0,o.kt)("inlineCode",{parentName:"li"},"file://")," schema as cross-origin requests. So if you load a local file that includes other local files, this may trigger a CORS error.")),(0,o.kt)("p",null,"\u4f7f\u7528\u672c\u5730\u670d\u52a1\u5668\u540e\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c Demo\u3002"),(0,o.kt)("p",null,"\u770b\u4e86\u5b83\u4eec\u7684 HTML \u4ee3\u7801\uff0c\u6ca1\u6709\u8981\u7d27\u7684\uff0c\u6838\u5fc3\u80f6\u6c34\u4ee3\u7801\u90fd\u5728 hello.js \u91cc\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"emcc -o hello2.js hello2.c -O3")," \u4ec5\u751f\u6210 js \u6587\u4ef6\uff0c\u4e0d\u4ea7\u751f html\u3002"),(0,o.kt)("p",null,'Emscripten requires a large variety of JavaScript "glue" code to handle memory allocation, memory leaks, and a host of other problems.'),(0,o.kt)("p",null,"If you have a function defined in your C code that you want to call as needed from JavaScript, you can do this using the Emscripten ",(0,o.kt)("inlineCode",{parentName:"p"},"ccall()")," function."))}u.isMDXComponent=!0}}]);