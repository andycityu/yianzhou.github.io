"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7451],{62734:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>m});var n=t(87462),i=(t(67294),t(3905));t(61839);const r={},o="\u56fe\u5f62\u6e32\u67d3",l={unversionedId:"graphics",id:"graphics",title:"\u56fe\u5f62\u6e32\u67d3",description:"GUI \u6846\u67b6",source:"@site/docs/apple/graphics.md",sourceDirName:".",slug:"/graphics",permalink:"/docs/apple/graphics",draft:!1,editUrl:"https://github.com/yianzhou/yianzhou.github.io/docs/apple/graphics.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Frameworks",permalink:"/docs/apple/frameworks"},next:{title:"HTTP",permalink:"/docs/apple/http"}},s={},m=[{value:"GUI \u6846\u67b6",id:"gui-\u6846\u67b6",level:2},{value:"\u539f\u7406",id:"\u539f\u7406",level:2},{value:"\u79bb\u5c4f\u6e32\u67d3",id:"\u79bb\u5c4f\u6e32\u67d3",level:2},{value:"\u5706\u89d2",id:"\u5706\u89d2",level:2},{value:"Core Graphics",id:"core-graphics",level:2},{value:"UIImage(named:) vs UIImage(contentsOfFile:)",id:"uiimagenamed-vs-uiimagecontentsoffile",level:2}],d={toc:m};function p(e){let{components:a,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,r,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u56fe\u5f62\u6e32\u67d3"},"\u56fe\u5f62\u6e32\u67d3"),(0,i.kt)("h2",{id:"gui-\u6846\u67b6"},"GUI \u6846\u67b6"),(0,i.kt)("p",null,"\u53ef\u4ee5\u7528\u4e8e iOS \u5f00\u53d1\u7684 GUI \u6846\u67b6\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"img",src:t(10918).Z,width:"1920",height:"1080"})),(0,i.kt)("p",null,"\u6ce8\uff1a\u8fd8\u6709 SwiftUI"),(0,i.kt)("p",null,"\u4f7f\u7528 WebKit \u7684\u7f51\u9875\u663e\u793a\u6162\uff0c\u4e3b\u8981\u662f\u7531\u4e8e CSS \u548c JavaScript \u8d44\u6e90\u52a0\u8f7d\u65b9\u5f0f\u5bfc\u81f4\u7684\u3002\u540c\u65f6\uff0c\u89e3\u6790\u65f6 HTML\u3001CSS\u3001JavaScript \u9700\u8981\u517c\u5bb9\u8001\u7248\u672c\uff0cJavaScript \u7c7b\u578b\u63a8\u65ad\u5931\u8d25\u4f1a\u91cd\u6765\uff0c\u5217\u8868\u7f3a\u5c11\u91cd\u7528\u673a\u5236\u7b49\u539f\u56e0\uff0c\u5bfc\u81f4 WebKit \u6846\u67b6\u7684\u6574\u4f53\u6027\u80fd\u6ca1\u6709\u5176\u4ed6\u6846\u67b6\u597d\u3002"),(0,i.kt)("p",null,"\u6211\u4eec\u770b\u5230\u5c4f\u5e55\u4e0a\u7684\u56fe\u50cf\uff0c\u8981\u7ecf\u8fc7\u5e03\u5c40\u3001\u7ed8\u5236\u3001\u6e32\u67d3\u3001\u663e\u793a\u8fd9\u51e0\u4e2a\u9636\u6bb5\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5e03\u5c40\uff1a\u66f4\u65b0\u89c6\u56fe\u6811\uff0c\u8ba1\u7b97\u51fa\u63a7\u4ef6\u7684\u5927\u5c0f\u548c\u4f4d\u7f6e\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u7ed8\u5236\uff1a\u89c6\u56fe\u521b\u5efa\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u63a7\u4ef6\u7684\u5185\u5bb9\uff0c\u56fe\u50cf\u89e3\u7801\u7b49\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u6e32\u67d3\uff1a\u5c06 CPU \u8ba1\u7b97\u597d\u7684\u5185\u5bb9\u4ea4\u7ed9 GPU \u6e32\u67d3\uff0c\u751f\u6210 bitmap \u653e\u5230\u5e27\u7f13\u51b2\u533a\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u663e\u793a\uff1a\u89c6\u9891\u63a7\u5236\u5668\u6309\u7167 VSync \u4fe1\u53f7\u8bfb\u53d6\u5e27\u7f13\u51b2\u533a\uff0c\u4f20\u9012\u7ed9\u663e\u793a\u5668\u663e\u793a\u3002")),(0,i.kt)("h2",{id:"\u539f\u7406"},"\u539f\u7406"),(0,i.kt)("p",null,"\u6211\u4eec\u770b\u5230\u7684 App \u754c\u9762\uff0c\u662f\u7531 CPU \u548c GPU \u5171\u540c\u8ba1\u7b97\u5904\u7406\u7684\u3002CPU \u5904\u7406\u6e32\u67d3\u5185\u5bb9\u7684\u8ba1\u7b97\uff0c\u6bd4\u5982\u89c6\u56fe\u521b\u5efa\u3001\u5e03\u5c40\u3001\u56fe\u7247\u89e3\u7801\u7b49\uff0c\u5185\u5bb9\u8ba1\u7b97\u5b8c\u6210\u540e\uff0c\u518d\u4f20\u8f93\u7ed9 GPU \u8fdb\u884c\u6e32\u67d3\u3002\u5982\u679c\u8ba1\u7b97\u3001\u6e32\u67d3\u4e00\u5e27\u7684\u65f6\u95f4\u8d85\u8fc7\u5c4f\u5e55\u5237\u65b0\u9891\u7387\u8981\u6c42\u7684\u65f6\u95f4\uff0c\u754c\u9762\u5c31\u4f1a\u51fa\u73b0\u5361\u987f\u3002"),(0,i.kt)("p",null,"\u539f\u751f\u754c\u9762\u66f4\u65b0\u6e32\u67d3\u7684\u6d41\u7a0b\uff0c\u53ef\u4ee5\u5206\u4e3a\u56db\u6b65\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff0c\u66f4\u65b0\u89c6\u56fe\u6811\uff0c\u540c\u6b65\u66f4\u65b0\u56fe\u5c42\u6811\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff0cCPU \u8ba1\u7b97\u8981\u663e\u793a\u7684\u5185\u5bb9\uff0c\u5305\u62ec\u89c6\u56fe\u521b\u5efa\uff08\u8bbe\u7f6e Layer \u7684\u5c5e\u6027\uff09\u3001\u5e03\u5c40\u8ba1\u7b97\u3001\u89c6\u56fe\u7ed8\u5236\uff08\u521b\u5efa Layer \u7684 Backing Image\uff09\u3001\u56fe\u50cf\u89e3\u7801\u3002\u5f53 RunLoop \u5728 BeforeWaiting \u548c Exit \u65f6\uff0c\u4f1a\u901a\u77e5\u6ce8\u518c\u7684\u76d1\u542c\uff0c\u7136\u540e\u5bf9\u56fe\u5c42\u6253\u5305\uff0c\u6253\u5b8c\u5305\u540e\uff0c\u5c06\u6253\u5305\u6570\u636e\u53d1\u9001\u7ed9\u4e00\u4e2a\u72ec\u7acb\u8d1f\u8d23\u6e32\u67d3\u7684\u8fdb\u7a0b Render Server\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u6b65\uff0c\u6570\u636e\u5230\u8fbe Render Server \u540e\u4f1a\u88ab\u53cd\u5e8f\u5217\u5316\uff0c\u5f97\u5230\u56fe\u5c42\u6811\uff0c\u6309\u7167\u56fe\u5c42\u6811\u4e2d\u56fe\u5c42\u987a\u5e8f\u3001RGBA \u503c\u3001\u56fe\u5c42 frame \u8fc7\u6ee4\u56fe\u5c42\u4e2d\u88ab\u906e\u6321\u7684\u90e8\u5206\uff0c\u8fc7\u6ee4\u540e\u5c06\u56fe\u5c42\u6811\u8f6c\u6210\u6e32\u67d3\u6811\uff0c\u6e32\u67d3\u6811\u7684\u4fe1\u606f\u4f1a\u8f6c\u7ed9 OpenGL ES/Metal\u3002\u524d\u9762 CPU \u6240\u5904\u7406\u7684\u8fd9\u4e9b\u4e8b\u60c5\u7edf\u79f0\u4e3a Commit Transaction\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u7b2c\u56db\u6b65\uff0cRender Server \u4f1a\u8c03\u7528 GPU\uff0cGPU \u7684\u4e3b\u8981\u5de5\u4f5c\u662f\u5c06 3D \u5750\u6807\u8f6c\u5316\u6210 2D \u5750\u6807\uff0c\u7136\u540e\u518d\u628a 2D \u5750\u6807\u8f6c\u6210\u5b9e\u9645\u50cf\u7d20\uff0c\u5177\u4f53\u5b9e\u73b0\u53ef\u4ee5\u5206\u4e3a\u9876\u70b9\u7740\u8272\u5668\uff08\u786e\u5b9a\u5f62\u72b6\u7684\u70b9\uff09\u3001\u5f62\u72b6\u88c5\u914d\uff08\u786e\u5b9a\u5f62\u72b6\u7684\u7ebf\uff09\u3001\u51e0\u4f55\u7740\u8272\u5668\uff08\u786e\u5b9a\u4e09\u89d2\u5f62\u4e2a\u6570\uff09\u3001\u5149\u6805\u5316\uff08\u786e\u5b9a\u5c4f\u5e55\u50cf\u7d20\u70b9\uff09\u3001\u7247\u6bb5\u7740\u8272\u5668\uff08\u5bf9\u50cf\u7d20\u70b9\u7740\u8272\uff09\u3001\u6d4b\u8bd5\u4e0e\u6df7\u5408\uff08\u68c0\u67e5\u6df1\u5ea6\u548c\u900f\u660e\u5ea6\u8fdb\u884c\u6df7\u5408\uff09\u516d\u4e2a\u9636\u6bb5\u3002")),(0,i.kt)("h2",{id:"\u79bb\u5c4f\u6e32\u67d3"},"\u79bb\u5c4f\u6e32\u67d3"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://objccn.io/issue-3-1/"},"objc.io - \u7ed8\u5236\u50cf\u7d20\u5230\u5c4f\u5e55\u4e0a")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/seedante/iOS-Note/wiki/Mastering-Offscreen-Render"},"Mastering Offscreen Render")),(0,i.kt)("p",null,"\u8981\u8bb2\u6e05\u695a\u79bb\u5c4f\u6e32\u67d3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9996\u5148\u8981\u4e86\u89e3\u8ba1\u7b97\u673a\u56fe\u5f62\u7684\u6e32\u67d3\u8fc7\u7a0b\u3002CPU \u5904\u7406\u597d\u56fe\u7247\u89e3\u7801\u7b49\u5de5\u4f5c\u3001\u5c06\u8ba1\u7b97\u597d\u7684\u56fe\u5f62\u5185\u5bb9\u4ea4\u7ed9 GPU \u6e32\u67d3\uff0cGPU \u7ecf\u8fc7\u9876\u70b9\u7740\u8272\u3001\u5149\u6805\u5316\u3001\u7247\u5143\u7740\u8272\uff0c\u5c06\u6e32\u67d3\u597d\u7684\u7ed3\u679c\u5199\u5165\u5230\u5e27\u7f13\u51b2\u533a\uff0c\u968f\u540e\u89c6\u9891\u63a7\u5236\u5668\u4f1a\u6839\u636e VSync \u4fe1\u53f7\u8bfb\u53d6\u5e27\u7f13\u51b2\u533a\u7684\u6570\u636e\uff0c\u8f93\u51fa\u5230\u663e\u793a\u5668\u663e\u793a\u3002"),(0,i.kt)("p",null,"\u5982\u679c\u6709\u65f6\u56e0\u4e3a\u4e00\u4e9b\u9650\u5236\uff0c\u6e32\u67d3\u670d\u52a1\u65e0\u6cd5",(0,i.kt)("strong",{parentName:"p"},"\u4e00\u6b21\u6027"),"\u5730\u628a\u56fe\u5f62\u6e32\u67d3\u5230 frame buffer\uff0c\u800c\u662f\u9700\u8981\u5206\u6b65\u9aa4\u5b8c\u6210\u2014\u2014\u5148\u5f00\u8f9f\u989d\u5916\u7684\u7f13\u51b2\u7a7a\u95f4\uff0c\u4e5f\u79f0\u4e3a\u79bb\u5c4f\u7f13\u51b2\u533a\uff0c\u6700\u540e\u518d\u5c06\u7ed3\u679c\u5408\u6210\u5230 frame buffer\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u79f0\u4e3a\u79bb\u5c4f\u6e32\u67d3\u3002"),(0,i.kt)("p",null,"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4f60\u9700\u8981\u907f\u514d\u79bb\u5c4f\u6e32\u67d3\uff0c\u56e0\u4e3a\u8fd9\u662f\u5f88\u5927\u7684\u6027\u80fd\u6d88\u8017\uff0c\u5176\u4e2d\u6d89\u53ca\u4e24\u6b21\u6602\u8d35\u7684\u73af\u5883\u8f6c\u6362\uff08\u8f6c\u6362\u73af\u5883\u5230\u5c4f\u5e55\u5916\u7f13\u51b2\u533a\uff0c\u7136\u540e\u8f6c\u6362\u73af\u5883\u5230\u5e27\u7f13\u51b2\u533a\uff09\u3002"),(0,i.kt)("p",null,"Instruments \u7684 Core Animation \u5de5\u5177\u6709\u4e00\u4e2a\u53eb\u505a Color Offscreen-Rendered Yellow \u7684\u9009\u9879\uff0c\u5b83\u4f1a\u5c06\u79bb\u5c4f\u6e32\u67d3\u7684\u533a\u57df\u6807\u6ce8\u4e3a\u9ec4\u8272\uff08\u5728\u6a21\u62df\u5668\u4e2d\u53ef\u4ee5\u76f4\u63a5\u7528\uff09\u3002\u540c\u65f6\u8bb0\u5f97\u68c0\u67e5 Color Hits Green and Misses Red \u9009\u9879\u3002\u7eff\u8272\u4ee3\u8868\u5c4f\u5e55\u5916\u7f13\u51b2\u533a\u88ab\u590d\u7528\uff0c\u7ea2\u8272\u4ee3\u8868\u5c4f\u5e55\u5916\u7f13\u51b2\u533a\u88ab\u91cd\u65b0\u521b\u5efa\u3002"),(0,i.kt)("p",null,"\u4ee3\u7801\u793a\u4f8b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-swift"},'// \u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\nlet button1 = UIButton(frame: CGRect(x: 0, y: 100, width: 100, height: 100))\nbutton1.setImage(UIImage(named: "unnamed"), for: .normal)\nbutton1.layer.cornerRadius = 50\nbutton1.layer.masksToBounds = true\n\n// iOS 9 \u7684\u4f18\u5316\uff0c\u8bbe\u7f6e\u5355\u4e2a\u56fe\u5c42\u7684\u5706\u89d2\u4e0d\u4f1a\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\nlet button2 = UIButton(frame: CGRect(x: 150, y: 100, width: 100, height: 100))\nbutton2.setImage(UIImage(named: "unnamed"), for: .normal)\nbutton2.imageView?.layer.cornerRadius = 50\nbutton2.imageView?.layer.masksToBounds = true // \u8bbe\u7f6e\u8fd9\u4e00\u5c42 masksToBounds \u4e3a true\nbutton2.layer.masksToBounds = false\n\n// \u80cc\u666f\u8272+\u56fe\u7247\uff0c\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\nlet imageView1 = UIImageView(frame: CGRect(x: 0, y: 210, width: 100, height: 100))\nimageView1.image = UIImage(named: "unnamed")\nimageView1.backgroundColor = UIColor.blue\nimageView1.layer.cornerRadius = 50\nimageView1.layer.masksToBounds = true\n\n// \u53ea\u6709\u56fe\u7247\u3001\u6ca1\u6709\u80cc\u666f\u8272\uff0c\u4e0d\u4f1a\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\nlet imageView2 = UIImageView(frame: CGRect(x: 150, y: 210, width: 100, height: 100))\nimageView2.image = UIImage(named: "unnamed")\nimageView2.layer.cornerRadius = 50\nimageView2.layer.masksToBounds = true\n\n// \u56fe\u7247+\u8fb9\u6846\u4e00\u8d77\uff0c\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\nlet imageView3 = UIImageView(frame: CGRect(x: 0, y: 320, width: 100, height: 100))\nimageView3.image = UIImage(named: "unnamed")\nimageView3.layer.cornerRadius = 50\nimageView3.layer.masksToBounds = true\nimageView3.layer.borderColor = UIColor.systemPink.cgColor\nimageView3.layer.borderWidth = 3.0\n\n// \u4e0d\u4f1a\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\n// \u80cc\u666f\u989c\u8272\u3001\u8fb9\u6846\u5706\u89d2\u4e0d\u7528\u8bbe\u7f6e masksToBounds\uff0c\u4e5f\u6709\u5706\u89d2\u6548\u679c\nlet emptyView = UIView(frame: CGRect(x: 150, y: 320, width: 100, height: 100))\nemptyView.layer.backgroundColor = UIColor.blue.cgColor\nemptyView.layer.cornerRadius = 50.0\nemptyView.layer.borderColor = UIColor.systemPink.cgColor\nemptyView.layer.borderWidth = 3.0\nemptyView.layer.masksToBounds = false\n\n// \u6587\u5b57+\u80cc\u666f\u8272\u4e00\u8d77\uff0c\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\nlet label = UILabel(frame: CGRect(x: 0, y: 430, width: 100, height: 100))\nlabel.text = "Hello world!Hello world!Hello world!Hello world!Hello world!"\nlabel.layer.backgroundColor = UIColor.systemPink.cgColor\nlabel.numberOfLines = 0\nlabel.layer.cornerRadius = 50.0\nlabel.layer.masksToBounds = true\n\n// iOS 9 \u7684\u4f18\u5316\uff0c\u8bbe\u7f6e\u5355\u4e2a\u56fe\u5c42\u7684\u5706\u89d2\u4e0d\u4f1a\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\uff08content \u5c42\uff0c\u6587\u5b57\uff09\nlet label2 = UILabel(frame: CGRect(x: 150, y: 430, width: 100, height: 100))\nlabel2.text = "Hello world!Hello world!Hello world!Hello world!Hello world!"\nlabel2.numberOfLines = 0\nlabel2.layer.cornerRadius = 50.0\nlabel2.layer.masksToBounds = true\n\n// addSubview\uff0c\u7236 view \u548c\u5b50 view \u90fd\u6ca1\u6709\u79bb\u5c4f\u6e32\u67d3\uff0c\u53e0\u52a0\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\nlet containerView = UIView(frame: CGRect(x: 150, y: 540, width: 100, height: 100))\ncontainerView.backgroundColor = UIColor.systemPurple\ncontainerView.layer.cornerRadius = 50.0\ncontainerView.layer.masksToBounds = false\nlet imageView4 = UIImageView(frame: CGRect(x: 0, y: 0, width: 100, height: 100))\nimageView4.image = UIImage(named: "unnamed")\nimageView4.layer.cornerRadius = 50\nimageView4.layer.masksToBounds = true\ncontainerView.addSubview(imageView4)\n')),(0,i.kt)("p",null,"\u5728\u540c\u7b49\u6570\u91cf\u7684\u89c4\u6a21\u4e0b\uff0c\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u7b49\u7ea7\uff1aShadow > RoundedCorner > Mask > GroupOpacity\u3002"),(0,i.kt)("p",null,"\u4efb\u4f55\u65f6\u5019\u4f18\u5148\u8003\u8651\u907f\u514d\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\uff0c\u65e0\u6cd5\u907f\u514d\u65f6\u4f18\u5316\u65b9\u6848\u6709\u51e0\u79cd\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"AsyncDisplayKit\uff08\u73b0\u5df2\u66f4\u540d\u4e3a Texture\uff09"),(0,i.kt)("li",{parentName:"ul"},"CoreGraphics \u7ed8\u5236\uff0c\u5c24\u5176\u5bf9\u4e8e\u90e8\u5206\u5706\u89d2\u7684\u56fe\u7247\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u8bbe\u7f6e layer.opache = true"),(0,i.kt)("li",{parentName:"ul"},"\u7528\u53e0\u52a0\u56fe\u5c42\u7684\u65b9\u5f0f\u6765\u8fbe\u5230\u6548\u679c\u3002\u5982\u679c\u56fe\u7247\u5927\u5c0f\u56fa\u5b9a\uff0c\u8bbe\u8ba1\u540c\u5b66\u914d\u5408\u51fa\u56fe\uff0c\u76f4\u63a5 addSubview \u76d6\u4f4f\uff1b\u89c6\u9891\u4e5f\u53ef\u4ee5\u7528\u8fd9\u4e2a\u529e\u6cd5\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u9634\u5f71\u7528 shadowPath"),(0,i.kt)("li",{parentName:"ul"},"\u6a21\u7cca\u6548\u679c\u53ef\u4ee5\u81ea\u5df1\u8ba1\u7b97\uff0c\u4e0d\u7528 UIBlurEffectView\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u6700\u540e\uff0c\u6253\u5f00 shouldRasterize\uff1a\u9002\u7528\u4e8e\u9759\u6001\u5185\u5bb9\u7684\u89c6\u56fe\uff0c\u4e5f\u5c31\u662f\u4e0d\u505a\u52a8\u753b\u3001\u5185\u90e8\u7ed3\u6784\u548c\u5185\u5bb9\u4e0d\u53d1\u751f\u53d8\u5316\u7684\u89c6\u56fe\u3002")),(0,i.kt)("h2",{id:"\u5706\u89d2"},"\u5706\u89d2"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"cornerRadius")," \u7684\u5b98\u65b9\u89e3\u91ca\uff1a By default, the corner radius does not apply to the image in the layer\u2019s contents property; it applies only to the background color and border of the layer."),(0,i.kt)("p",null,"\u56e0\u6b64\uff0c\u5bf9\u4e8e\u80cc\u666f\u8272\u3001\u8fb9\u6846\uff0c\u53ea\u9700\u8981 ",(0,i.kt)("inlineCode",{parentName:"p"},"view.layer.cornerRadius = 10.0;")," \u5c31\u53ef\u4ee5\u8bbe\u7f6e\u5706\u89d2\uff0c\u53ea\u8bbe\u7f6e ",(0,i.kt)("inlineCode",{parentName:"p"},"cornerRadius")," \u4e0d\u4f1a\u5f15\u53d1\u79bb\u5c4f\u6e32\u67d3\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"UIImageView")," \u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"image"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"UILabel")," \u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"text")," \u7b49\uff0c\u90fd\u5c5e\u4e8e content \u5c42\u7684\u4e1c\u897f\uff0c\u5bf9 content \u5c42\u505a\u5706\u89d2\uff0c\u9664\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"cornerRadius")," \u8fd8\u8981\u8bbe\u7f6e ",(0,i.kt)("inlineCode",{parentName:"p"},"layer.maskToBounds = true")," \u624d\u6709\u6548\u3002iOS 9 \u7684\u4f18\u5316\uff0c\u5bf9\u5355\u4e2a\u56fe\u5c42\u505a\u5706\u89d2\u662f\u4e0d\u4f1a\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\u7684\uff0c\u4f46\u5982\u679c content \u5c42\u518d\u52a0\u4e0a backgroundColor \u6216 border \u4efb\u610f\u4e00\u4e2a\u4e00\u8d77\u505a\u5706\u89d2\uff0c\u5c31\u4f1a\u89e6\u53d1\u79bb\u5c4f\u6e32\u67d3\uff01"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"UIImageView")," \u6dfb\u52a0\u5706\u89d2\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objc"},"@implementation UIImageView (CornerRadius)\n- (void)addCornersWithRadius:(CGFloat)radius {\n    UIGraphicsBeginImageContextWithOptions(self.bounds.size, false, UIScreen.mainScreen.scale);\n    CGContextRef context = UIGraphicsGetCurrentContext();\n    UIBezierPath * path = [UIBezierPath bezierPathWithRoundedRect:self.bounds byRoundingCorners:UIRectCornerAllCorners cornerRadii:CGSizeMake(radius, radius)];\n    CGContextAddPath(context, path.CGPath);\n    CGContextClip(context);\n    [self.image drawInRect:self.bounds];\n    UIImage *output = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    self.image = output;\n}\n")),(0,i.kt)("h2",{id:"core-graphics"},"Core Graphics"),(0,i.kt)("p",null,"Core Graphics, also known as Quartz 2D, is an advanced, two-dimensional drawing engine available for iOS, tvOS and macOS application development. Quartz 2D provides low-level, lightweight 2D rendering with unmatched output fidelity regardless of display or printing device. Quartz 2D is resolution- and device-independent."),(0,i.kt)("p",null,"A bitmap image (or sampled image) is an array of pixels (or samples). Each pixel represents a single point in the image. JPEG, TIFF, and PNG graphics files are examples of bitmap images. Each sample in a bitmap contains one or more color components in a specified color space, plus one additional component that specifies the alpha value to indicate transparency. Each component can be from 1 to as many as 32 bits."),(0,i.kt)("p",null,"UIImage (UIKit): An object that manages image data in your app."),(0,i.kt)("p",null,"CIImage (Core Image): A representation of an image to be processed or produced by Core Image filters. You use ",(0,i.kt)("inlineCode",{parentName:"p"},"CIImage")," objects in conjunction with other Core Image classes\u2014such as ",(0,i.kt)("inlineCode",{parentName:"p"},"CIFilter"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"CIContext"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"CIVector"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"CIColor"),"\u2014to take advantage of the built-in Core Image filters when processing images. You can create ",(0,i.kt)("inlineCode",{parentName:"p"},"CIImage")," objects with data supplied from a variety of sources, including Quartz 2D images, Core Video image buffers (",(0,i.kt)("inlineCode",{parentName:"p"},"CVImageBuffer"),"), URL-based objects, and ",(0,i.kt)("inlineCode",{parentName:"p"},"NSData")," objects."),(0,i.kt)("p",null,"CGImage (Core Graphics): A bitmap image or image mask."),(0,i.kt)("h2",{id:"uiimagenamed-vs-uiimagecontentsoffile"},"UIImage(named:) vs UIImage(contentsOfFile:)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"UIImage(named:)")," This method checks the system caches for an image object with the specified name and returns the variant of that image that is best suited for the main screen. If a matching image object is not already in the cache, this method creates the image from an available asset catalog or loads it from disk. The system may purge cached image data at any time to free up memory."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"UIImage(contentsOfFile:)")," This method loads the image data into memory and marks it as purgeable. If the data is purged and needs to be reloaded, the image object loads that data again from the specified path."),(0,i.kt)("p",null,"\u5b98\u65b9\u6587\u6863\u660e\u786e\u8bf4\u4e86\uff0c\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"UIImage(named:)")," \u52a0\u8f7d\u56fe\u7247\u540e\u4f1a\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u5373\u4f7f ",(0,i.kt)("inlineCode",{parentName:"p"},"UIImage *")," \u5bf9\u8c61\u88ab\u81ea\u52a8\u91ca\u653e\u6c60\u91ca\u653e\u4e86\uff0c\u8fd9\u4efd\u7f13\u5b58\u4e5f\u4e0d\u4f1a\u91ca\u653e\uff08\u7f13\u5b58\u5728\u7cfb\u7edf\u9700\u8981\u7684\u65f6\u5019\u91ca\u653e\uff0c\u65f6\u673a\u4e0d\u53ef\u9884\u8ba1\uff09\u3002\u56e0\u4e3a\u7f13\u5b58\u7684\u539f\u56e0\uff0c\u6e32\u67d3\u6548\u7387\u4f1a\u66f4\u9ad8\uff0c\u4f46\u5982\u679c\u56fe\u50cf\u5f88\u5927\u3001\u6570\u91cf\u5f88\u591a\uff0c\u5219\u4f1a\u6d88\u8017\u8f83\u591a\u7684\u5185\u5b58\u3002\u52a0\u8f7d\u5f88\u5927\u7684\u56fe\u7247\u5e76\u4e00\u6b21\u6027\u5730\u4f7f\u7528\uff0c\u662f\u6ca1\u6709\u5fc5\u8981\u505a\u7f13\u5b58\u7684\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"UIImage(contentsOfFile:)")," \u66f4\u597d\u3002"))}p.isMDXComponent=!0},10918:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/FE2B5E00-D1A9-43A2-85E0-0B7091F224F7-26d6e2f4c98852cb60cd68fd40321ff2.png"}}]);