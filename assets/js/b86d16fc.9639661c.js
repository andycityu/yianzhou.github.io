"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3997],{38059:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>p,metadata:()=>s,toc:()=>r});var n=t(87462),a=(t(67294),t(3905));t(61839);const p={},i="Cocoapods",s={unversionedId:"cocoapods",id:"cocoapods",title:"Cocoapods",description:"pod install vs. pod update",source:"@site/docs/apple/cocoapods.md",sourceDirName:".",slug:"/cocoapods",permalink:"/docs/apple/cocoapods",draft:!1,editUrl:"https://github.com/yianzhou/yianzhou.github.io/docs/apple/cocoapods.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"CICD",permalink:"/docs/apple/cicd"},next:{title:"Core Animation",permalink:"/docs/apple/core-animation"}},l={},r=[{value:"pod install vs. pod update",id:"pod-install-vs-pod-update",level:2},{value:"\u521b\u5efa\u81ea\u5df1\u7684 Pod",id:"\u521b\u5efa\u81ea\u5df1\u7684-pod",level:2},{value:"\u521b\u5efa SDK \u4ee3\u7801\u5e93",id:"\u521b\u5efa-sdk-\u4ee3\u7801\u5e93",level:3},{value:"\u96c6\u6210 Framework",id:"\u96c6\u6210-framework",level:3},{value:"\u53d1\u5e03\u5230\u5b98\u65b9\u6e90",id:"\u53d1\u5e03\u5230\u5b98\u65b9\u6e90",level:3},{value:"\u53d1\u5e03\u5230\u79c1\u6709\u6e90",id:"\u53d1\u5e03\u5230\u79c1\u6709\u6e90",level:3},{value:"Podspec",id:"podspec",level:2},{value:"Podfile",id:"podfile",level:2},{value:"\u95ee\u9898\uff1aDevelopment pods \u7684\u66f4\u6539\u5728 build \u540e\u6ca1\u6709\u751f\u6548",id:"\u95ee\u9898development-pods-\u7684\u66f4\u6539\u5728-build-\u540e\u6ca1\u6709\u751f\u6548",level:2},{value:"\u95ee\u9898\uff1apod \u8fde\u63a5\u6162\u3001\u5b89\u88c5/\u66f4\u65b0\u5931\u8d25\u7b49",id:"\u95ee\u9898pod-\u8fde\u63a5\u6162\u5b89\u88c5\u66f4\u65b0\u5931\u8d25\u7b49",level:2}],d={toc:r};function c(e){let{components:o,...p}=e;return(0,a.kt)("wrapper",(0,n.Z)({},d,p,{components:o,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cocoapods"},"Cocoapods"),(0,a.kt)("h2",{id:"pod-install-vs-pod-update"},"pod install vs. pod update"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"https://guides.cocoapods.org/using/pod-install-vs-update.html"},"pod install vs. pod update"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pod install"),": This is to be used the first time you want to retrieve the pods for the project, but also every time you edit your ",(0,a.kt)("inlineCode",{parentName:"p"},"Podfile")," to add, update or remove a pod."),(0,a.kt)("p",null,"Every time the pod install command is run \u2014 and downloads and install new pods \u2014 it writes the version it has installed, for each pods, in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Podfile.lock")," file. This file keeps track of the installed version of each pod and ",(0,a.kt)("strong",{parentName:"p"},"locks")," those versions. When you run pod install, it only resolves dependencies for pods that are ",(0,a.kt)("strong",{parentName:"p"},"not")," already listed in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Podfile.lock"),". For pods listed in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Podfile.lock"),", it downloads the explicit version listed in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Podfile.lock")," without trying to check if a newer version is available."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pod update"),": It will update the pod to the latest version possible (as long as it matches the version restrictions in your ",(0,a.kt)("inlineCode",{parentName:"p"},"Podfile"),")."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-rb"},"pod 'SSZipArchive' ## use the latest version\npod 'Objection', '0.9' ## specific version\npod 'Objection', '~> 0.1.2' ## Version 0.1.2 and the versions up to 0.2, not including 0.2 and higher\n\npod 'Alamofire', :path => '~/Documents/Alamofire' ## a folder local to the machine\n\npod 'Alamofire', :git => 'https://github.com/Alamofire/Alamofire.git' ## To use the master branch of the repo\npod 'Alamofire', :git => 'https://github.com/Alamofire/Alamofire.git', :branch => 'dev' ## To use a different branch of the repo:\npod 'Alamofire', :git => 'https://github.com/Alamofire/Alamofire.git', :tag => '3.1.1' ## To use a tag of the repo\npod 'Alamofire', :git => 'https://github.com/Alamofire/Alamofire.git', :commit => '0f506b1c45' ## Or specify a commit\n")),(0,a.kt)("h2",{id:"\u521b\u5efa\u81ea\u5df1\u7684-pod"},"\u521b\u5efa\u81ea\u5df1\u7684 Pod"),(0,a.kt)("p",null,"\u6211\u4eec\u5148\u770b\u770b CocoaPods \u5728\u672c\u5730\u76ee\u5f55\u91cc\u7684\u4e1c\u897f\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"cd ~/.cocoapods/repos"),"\uff0c\u8fd9\u91cc\u5b58\u653e\u7740 Pod \u7684\u4ed3\u5e93\u76ee\u5f55\uff0c\u5176\u4e2d\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"master"),"\u6587\u4ef6\u5939\u662f CocoaPods \u5b98\u65b9\u7684\u4ed3\u5e93\u3002\u5982\u679c\u4f60\u6dfb\u52a0\u8fc7\u5176\u4ed6\u7684 repo\uff0c\u8fd9\u91cc\u8fd8\u4f1a\u6709\u5176\u4ed6\u6587\u4ef6\u5939\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"cd ~/.cocoapods/repos/master"),"\uff0c\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"p"},"git remote -v"),"\uff0c\u53d1\u73b0",(0,a.kt)("inlineCode",{parentName:"p"},"master"),"\u6587\u4ef6\u5939\u662f\u4e00\u4e2a git \u4ed3\u5e93\uff0c\u5b83\u7684\u8fdc\u7aef\u662f\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"origin https://github.com/CocoaPods/Specs.git (fetch)\norigin https://github.com/CocoaPods/Specs.git (push)\n")),(0,a.kt)("p",null,"\u6bcf\u4e2a\u7b2c\u4e09\u65b9\u5e93\u4f1a\u6709\u591a\u4e2a\u7248\u672c\u53f7\uff0c\u6bcf\u4e2a\u7248\u672c\u53f7\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a",(0,a.kt)("inlineCode",{parentName:"p"},"*.podspec.json"),"\u3002\u6bd4\u5982\uff1a"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"~/.cocoapods/repos/master/Specs/0/0/1/YYImage/1.0.4/YYImage.podspec.json")),(0,a.kt)("p",null,"\u6ce8\u610f\uff0c\u7b2c\u4e09\u65b9\u5e93\u7684\u6e90\u4ee3\u7801\u4e0d\u4f1a\u653e\u5728 Specs \u6587\u4ef6\u5939\u91cc\uff0c\u8fd9\u91cc\u53ea\u653e\u63cf\u8ff0\u4fe1\u606f\u3002"),(0,a.kt)("p",null,"\u60f3\u8981\u5728 Cocoapods \u4e2d\u53d1\u5e03\u4ed3\u5e93\uff0c\u5c31\u662f\u9700\u8981\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"~/.cocoapods/repos/master"),"\u4e2d\u6dfb\u52a0\u6211\u4eec\u7684\u4ed3\u5e93\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u7136\u540e push \u5230\u8fdc\u7aef\u3002\u4e0d\u8fc7\u4e0d\u7528\u6211\u4eec\u901a\u8fc7 git \u547d\u4ee4\uff0c\u76f4\u63a5\u7528 pod \u547d\u4ee4\u64cd\u4f5c\u5373\u53ef\u3002"),(0,a.kt)("p",null,"Running ",(0,a.kt)("inlineCode",{parentName:"p"},"pod lib create [pod name]")," will set you up with a well thought out library structure allowing you to easily include your files and get started quickly."),(0,a.kt)("p",null,"You should be testing your library. In Objective-C ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/specta/expecta"},"Specta/Expecta"),". In Swift ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Quick/Nimble"},"Quick/Nimble"),". For View-based Testing: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/uber/ios-snapshot-test-case/"},"iOSSnapshotTestCase"),"."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"${PODS_ROOT}")," \u5b9a\u4e49\u5728 Build Settings - User-Defined:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"img-40",src:t(94968).Z})),(0,a.kt)("h3",{id:"\u521b\u5efa-sdk-\u4ee3\u7801\u5e93"},"\u521b\u5efa SDK \u4ee3\u7801\u5e93"),(0,a.kt)("p",null,"\u521b\u5efa podspec \u6587\u4ef6\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"pod spec create SampleLib"),"\uff0c\u6253\u5f00 ",(0,a.kt)("inlineCode",{parentName:"p"},"SampleLib.podspec")," \u6587\u4ef6\u5e76\u7f16\u8f91\u597d\u76f8\u5173\u914d\u7f6e\u3002\u53ef\u4ee5\u53c2\u8003\u522b\u7684\u7b2c\u4e09\u65b9\u5e93\u7684\u914d\u7f6e\u5982 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ibireme/YYImage/blob/master/YYImage.podspec"},"YYImage"),"\u3002"),(0,a.kt)("p",null,"\u9a8c\u8bc1\u4ed3\u5e93\u662f\u5426\u914d\u7f6e\u6b63\u786e\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"pod lib lint"),"\uff0c\u9a8c\u8bc1\u6b63\u786e\u540e\uff0c\u5c31\u53ef\u4ee5\u628a\u63cf\u8ff0\u6587\u4ef6\u63a8\u5230\u8fdc\u7aef\u4e86\u3002\u7136\u540e\uff0c\u6253\u4e0a\u7248\u672c\u53f7\u7684 tag\uff0c\u6ce8\u610f\u8fd9\u4e2a tag \u662f\u4e0e",(0,a.kt)("inlineCode",{parentName:"p"},".podspec")," \u6587\u4ef6\u4e2d\u7684\u7248\u672c\u5bf9\u5e94\u7684\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pod lib lint")," does not access the network, whereas ",(0,a.kt)("inlineCode",{parentName:"p"},"pod spec lint")," checks the external repo and associated tag."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"pod lib lint --verbose --sources='https://demo1.sources.com,https://demo2.sources.com' --no-clean --use-libraries --allow-warnings --skip-import-validation\n")),(0,a.kt)("p",null,"\u9047\u5230\u7f16\u8bd1\u9519\u8bef\uff0c\u5c31\u6dfb\u52a0 ",(0,a.kt)("inlineCode",{parentName:"p"},"--skip-import-validation"),"\u3002"),(0,a.kt)("p",null,"\u9a8c\u8bc1\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u53d1\u5e03\u5230\u6211\u4eec\u7684\u79c1\u6709\u5e93\u63cf\u8ff0\u6587\u4ef6\u4e2d\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"pod repo push MyRepo SampleLib.podspec --allow-warnings"),"\uff1b\u8fd9\u65f6\u4f1a\u518d\u9a8c\u8bc1\u4e00\u6b21\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u6210\u529f\u7684\u8bdd\uff0c\u6211\u4eec\u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.cocoapods/repos/MyRepo")," \u4e2d\u5c31\u4f1a\u589e\u52a0\u8fd9\u4e2a\u65b0\u7684\u5e93\u4e86\u3002"),(0,a.kt)("p",null,"\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"pod search SampleLib")," \u9a8c\u8bc1\uff0c\u82e5\u51fa\u73b0\u4ed3\u5e93\u4fe1\u606f\u8bf4\u660e\u5df2\u7ecf\u6210\u529f\u4e86\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u5728 Podfile \u6dfb\u52a0\u3001\u4f7f\u7528\u81ea\u5df1\u7684\u4ed3\u5e93\u4e86\u3002"),(0,a.kt)("h3",{id:"\u96c6\u6210-framework"},"\u96c6\u6210 Framework"),(0,a.kt)("p",null,"\u9996\u5148\u8981\u6709\u4e00\u4e2a\u5de5\u7a0b\uff0c\u5176\u4e2d\u7684 TARGETS \u6709\u6211\u4eec\u60f3\u6253\u5305\u51fa\u6765\u7684 Framework\u3002\u5728\u5de5\u7a0b\u91cc\u6b63\u5e38 build \u540e\uff0c\u4ea7\u7269\u4f1a\u5728 ",(0,a.kt)("inlineCode",{parentName:"p"},"/Users/zhouyian/Library/Developer/Xcode/DerivedData")," \u76ee\u5f55\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u5728 Project Navigator - Products \u4e0b\u9762\u627e\u5230\u3002"),(0,a.kt)("p",null,"\u5728\u5de5\u7a0b\u76ee\u5f55\u4e0b\u8fd0\u884c\u547d\u4ee4\uff1a"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},'xcodebuild -configuration "Release" -target "${FRAMEWORK_NAME}" -sdk iphoneos clean build')),(0,a.kt)("p",null,"\u4f1a\u5c06 Framework \u6253\u5305\u5230\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u3002\u7136\u540e\u521b\u5efa podspec \u6587\u4ef6\u5e76\u58f0\u660e ",(0,a.kt)("inlineCode",{parentName:"p"},"s.vendored_frameworks = 'path/to/framework'")," \u5373\u53ef\u3002"),(0,a.kt)("h3",{id:"\u53d1\u5e03\u5230\u5b98\u65b9\u6e90"},"\u53d1\u5e03\u5230\u5b98\u65b9\u6e90"),(0,a.kt)("p",null,"\u5b98\u65b9\u6e90\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},'source "https://cdn.cocoapods.org/"')),(0,a.kt)("p",null,"\u624b\u52a8\u514b\u9686\u5b98\u65b9\u6e90\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"pod repo add-cdn trunk https://cdn.cocoapods.org/")),(0,a.kt)("p",null,"\u53d1\u8868\u5230\u5b98\u65b9\u4ed3\u5e93\u9700\u8981\u4e00\u4e2a\u201c\u8d26\u6237\u201d\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://guides.cocoapods.org/making/getting-setup-with-trunk.html"},"CocoaPods Trunk")," is an authentication and CocoaPods API service. To publish new or updated libraries to CocoaPods for public release you will need to be registered with Trunk and have a valid Trunk session on your current device."),(0,a.kt)("p",null,"\u8d26\u6237\u6ca1\u6709\u5bc6\u7801\uff0c\u662f\u901a\u8fc7 Email \u5730\u5740\u5b8c\u6210\u7684\uff1aFirst sign up for an account with your email address. This begins a session on your current device. You must click a link in an email Trunk sends you to verify the connection between your Trunk account and the current computer. Trunk accounts do not have passwords, only per-computer session tokens."),(0,a.kt)("p",null,"Trunk will publish a canonical JSON representation of your Podspec."),(0,a.kt)("h3",{id:"\u53d1\u5e03\u5230\u79c1\u6709\u6e90"},"\u53d1\u5e03\u5230\u79c1\u6709\u6e90"),(0,a.kt)("p",null,"\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u7b49\u4ef7\u4e8e ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.cocoapods/repos/master/Specs")," \u8fd9\u6837\u7684\u3001\u5b58\u653e\u63cf\u8ff0\u6587\u4ef6\u7684 git \u4ed3\u5e93\u3002"),(0,a.kt)("p",null,"\u56de\u5230\u7ec8\u7aef\uff0c\u5c06\u8fd9\u4e2a\u63cf\u8ff0\u6587\u4ef6\u4ed3\u5e93\u6dfb\u52a0\u5230\u672c\u5730\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"pod repo add MyRepo https://github.com/yianzhou/PodSpecs.git")),(0,a.kt)("p",null,"\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"~/.cocoapods/repos/MyRepo"),"\uff0c\u4f1a\u53d1\u73b0\u6211\u4eec\u7684\u63cf\u8ff0\u6587\u4ef6\u4ed3\u5e93\uff0c\u5df2\u7ecf\u88ab clone \u5230\u672c\u5730\u4e86\u3002\u5b83\u8ddf ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.cocoapods/repos/master")," \u7684\u4f5c\u7528\u662f\u4e00\u6837\u7684\u3002"),(0,a.kt)("p",null,"\u4f7f\u7528\u79c1\u6709\u6e90\u9700\u8981\u5728 Podflie \u4e2d\u6dfb\u52a0\u7248\u672c\u5e93\u5730\u5740\uff0c\u82e5\u540c\u65f6\u4f7f\u7528\u4e86\u516c\u6709\u6e90\uff0c\u9700\u8981\u540c\u65f6\u52a0\u4e0a\u516c\u6709\u6e90\u7684\u5730\u5740\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-rb"},"source 'https://github.com/yianzhou/PodSpecs.git'\nsource 'https://github.com/CocoaPods/Specs.git'\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pod install"),"\u65f6\uff0c\u4f1a\u62c9\u53d6 ",(0,a.kt)("inlineCode",{parentName:"p"},"Podflie")," \u4e2d ",(0,a.kt)("inlineCode",{parentName:"p"},"source")," \u6807\u8bb0\u7684\u7248\u672c\u5e93\u5230\u672c\u5730\u7684 repos \u6587\u4ef6\u5939\u4e2d\uff1b\u7136\u540e\u5728 repos \u4e2d\u641c\u7d22 ",(0,a.kt)("inlineCode",{parentName:"p"},"SampleLib.podspec")," \u6587\u4ef6\u3002\u6839\u636e\u6587\u4ef6\u4e2d\u63cf\u8ff0\u7684\u6e90\u7801\u5730\u5740\u4e0b\u8f7d\u5e76\u6574\u5408\u5230\u9879\u76ee\u4e2d\u3002"),(0,a.kt)("h2",{id:"podspec"},"Podspec"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://guides.cocoapods.org/syntax/podspec.html"},"Podspec Syntax Reference")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-rb"},"s.pod_target_xcconfig = {\n  'GCC_TREAT_WARNINGS_AS_ERRORS' => 'YES',\n  'ENABLE_BITCODE' => 'NO',\n  'CLANG_WARN_STRICT_PROTOTYPES' => 'NO',\n  'STRIP_INSTALLED_PRODUCT' => 'NO',\n  'COPY_PHASE_STRIP' => 'NO',\n  'VALID_ARCHS' => 'armv7 arm64 x86_64',\n}\n\nmrc_source_files = 'QBBusinessPay/MRC/*.{h,m}'\ns.exclude_files = mrc_source_files\ns.subspec 'MRC' do |sp|\n  sp.requires_arc = false\n  sp.source_files = mrc_source_files\nend\n\ns.test_spec \"Tests\" do |spec|\n  spec.source_files = \"Tests/**/*.{h,hpp,c,cc,cpp,m,mm,swift}\"\n  spec.requires_app_host = true\n  spec.info_plist = {\n    'NSPhotoLibraryAddUsageDescription' => '\u4e3a\u4e86\u63d0\u4f9b\u4e0a\u4f20\u7167\u7247\u3001\u67e5\u770b\u7167\u7247\u3001\u4fdd\u5b58\u56fe\u7247\u670d\u52a1\uff0c\u8bf7\u5141\u8bb8\u4f7f\u7528\u76f8\u518c\u4fe1\u606f\u3002',\n    'NSPhotoLibraryUsageDescription' => '\u4e3a\u4e86\u63d0\u4f9b\u4e0a\u4f20\u7167\u7247\u3001\u67e5\u770b\u7167\u7247\u3001\u4fdd\u5b58\u56fe\u7247\u670d\u52a1\uff0c\u8bf7\u5141\u8bb8\u4f7f\u7528\u76f8\u518c\u4fe1\u606f\u3002'\n  }\nend\n\nspec.vendored_frameworks = \"editorFramework/editorFramework.framework\"\n\nspec.vendored_libraries = \"lib/*.a\"\nspec.static_framework = true\n")),(0,a.kt)("h2",{id:"podfile"},"Podfile"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-rb"},'post_install do |installer|\n    installer.project.build_configurations.each do |config|\n      config.build_settings[\'GCC_TREAT_WARNINGS_AS_ERRORS\'] = "YES"\n      config.build_settings["ENABLE_BITCODE"] = "NO"\n      config.build_settings["EXCLUDED_ARCHS[sdk=iphoneos*]"] = "armv7"\n      config.build_settings["ARCHS[sdk=iphonesimulator*]"] = "x86_64"\n    end\nend\n')),(0,a.kt)("h2",{id:"\u95ee\u9898development-pods-\u7684\u66f4\u6539\u5728-build-\u540e\u6ca1\u6709\u751f\u6548"},"\u95ee\u9898\uff1aDevelopment pods \u7684\u66f4\u6539\u5728 build \u540e\u6ca1\u6709\u751f\u6548"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/50552752/how-to-rebuild-development-pod-changes"},"How to rebuild development pod changes?"),"\uff08Xcode 11.4, pod 1.8.4 \u8bd5\u8fc7\u4e86\uff0c\u4ecd\u7136\u6ca1\u6709\u89e3\u51b3\uff09"),(0,a.kt)("p",null,"GitHub \u4e0a\u6709",(0,a.kt)("a",{parentName:"p",href:"https://github.com/CocoaPods/CocoaPods/issues/8073"},"\u8fd9\u4e2a\u95ee\u9898\u7684\u8ba8\u8bba"),"\uff1a"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Its because of build optimalisation in new Xcode - when it detects no change in input or output files specified for script, the script is not started.")),(0,a.kt)("p",null,"\u89e3\u51b3\u65b9\u6cd5\u4e00\uff1aSo the solution would be to have no input and out files at all, or during pod install add also content files of frameworks into the input files list."),(0,a.kt)("p",null,"With New Build System, add to your Podfile, ",(0,a.kt)("a",{parentName:"p",href:"https://guides.cocoapods.org/syntax/podfile.html#install_bang"},"\u53c2\u8003")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"install! 'cocoapods', :disable_input_output_paths => true")),(0,a.kt)("p",null,"\u89e3\u51b3\u65b9\u6cd5\u4e8c\uff1aUse legacy build system"),(0,a.kt)("p",null,"\u89e3\u51b3\u65b9\u6cd5\u4e09\uff1aI have a possible temporary solution. I added this Run script phase before Embed Pods Framework:\n",(0,a.kt)("inlineCode",{parentName:"p"},'touch "${PODS_ROOT}/*SCRIPT_DIRECTORY*frameworks.sh"'),".\uff08\u8def\u5f84\u76f4\u63a5\u590d\u5236","[","CP","]"," Embed Pods Frameworks \u91cc\u9762\u7684\u5373\u53ef\uff09\nIt forces Xcode to run the script everytime."),(0,a.kt)("h2",{id:"\u95ee\u9898pod-\u8fde\u63a5\u6162\u5b89\u88c5\u66f4\u65b0\u5931\u8d25\u7b49"},"\u95ee\u9898\uff1apod \u8fde\u63a5\u6162\u3001\u5b89\u88c5/\u66f4\u65b0\u5931\u8d25\u7b49"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"[!] Failed to connect to GitHub to update the CocoaPods/Specs specs repo - Please check if you are offline, or that GitHub is down")),(0,a.kt)("p",null,"\u4e3b\u8981\u89e3\u51b3\u65b9\u6cd5\uff1a\u66f4\u65b0 Ruby\u3001CocoaPods\u3001openssl \u7248\u672c\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'brew install ruby\nruby --version\nexport PATH=/usr/local/Cellar/ruby/2.7.1_2/bin:$PATH\nwhich openssl\nbrew upgrade openssl\nexport PATH="/usr/local/opt/openssl/bin:$PATH"\nbrew link openssl --force\n')),(0,a.kt)("p",null,"\u5220\u9664\u4e3b\u5e93\u5e76\u91cd\u65b0\u6dfb\u52a0\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"pod repo remove master\npod setup\ncd ~/.cocoapods/repos\npod repo add master https://github.com/CocoaPods/Specs.git\n")),(0,a.kt)("p",null,"\u95ee\u9898\uff1aCouldn't determine repo type for URL: \"",(0,a.kt)("a",{parentName:"p",href:"https://cdn.cocoapods.org/'"},"https://cdn.cocoapods.org/'"),': bad URI(is not URI?): "127.0.0.1:12639"'),(0,a.kt)("p",null,"\u89e3\u51b3\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"unset http_proxy; unset https_proxy")))}c.isMDXComponent=!0},94968:(e,o,t)=>{t.d(o,{Z:()=>n});const n="data:image/png;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxCm9pZCBzaGEyNTY6MzAzOWJhMjUyNTJhNGI2ZTI1YTk4NGJiMGIwNTlhZjNmYWFmOWMwOTJiM2VkZjMyNmJjNDdmZTIzNjM1MzI3YQpzaXplIDEwMjcxCg=="}}]);