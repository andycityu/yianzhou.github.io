"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6263],{7004:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>r,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var a=t(87462),n=(t(67294),t(3905));t(61839);const l={},i="Xcode",s={unversionedId:"xcode",id:"xcode",title:"Xcode",description:"\u7248\u672c",source:"@site/docs/apple/xcode.md",sourceDirName:".",slug:"/xcode",permalink:"/docs/apple/xcode",draft:!1,editUrl:"https://github.com/yianzhou/yianzhou.github.io/docs/apple/xcode.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"WWDC",permalink:"/docs/apple/wwdc"},next:{title:"\u6587\u4ef6\u76f8\u5173",permalink:"/docs/apple/\u4ee3\u7801/file"}},r={},p=[{value:"\u7248\u672c",id:"\u7248\u672c",level:2},{value:"\u8c03\u8bd5\u6280\u5de7",id:"\u8c03\u8bd5\u6280\u5de7",level:2},{value:"\u5728 Xcode \u4e2d\u6253\u5f00 Terminal",id:"\u5728-xcode-\u4e2d\u6253\u5f00-terminal",level:2},{value:"\u6a21\u62df\u5668\u5b89\u88c5\u8def\u5f84",id:"\u6a21\u62df\u5668\u5b89\u88c5\u8def\u5f84",level:2},{value:"Info.plist",id:"infoplist",level:2},{value:"\u73af\u5883\u53d8\u91cf",id:"\u73af\u5883\u53d8\u91cf",level:2},{value:"\u7edf\u8ba1\u7f16\u8bd1\u65f6\u95f4",id:"\u7edf\u8ba1\u7f16\u8bd1\u65f6\u95f4",level:2}],c={toc:p};function d(e){let{components:o,...t}=e;return(0,n.kt)("wrapper",(0,a.Z)({},c,t,{components:o,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"xcode"},"Xcode"),(0,n.kt)("h2",{id:"\u7248\u672c"},"\u7248\u672c"),(0,n.kt)("p",null,"\u5207\u6362 Xcode \u7248\u672c\uff1a",(0,n.kt)("a",{parentName:"p",href:"https://github.com/RobotsAndPencils/XcodesApp"},"RobotsAndPencils/XcodesApp: The easiest way to install and switch between multiple versions of Xcode - with a mouse click.")),(0,n.kt)("p",null,"\u67e5\u770b Xcode SDK \u7248\u672c\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"xcodebuild -version -sdk")),(0,n.kt)("p",null,"\u5207\u6362 Xcode \u7248\u672c\u540e\u51fa\u73b0\u7f16\u8bd1\u65f6 SDK \u7248\u672c\u4e0d\u5bf9\u7684\u95ee\u9898\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u8bbe\u7f6e SYSROOT\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"xcode-select -s /Applications/Xcode.app/Contents/Developer")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://xcodereleases.com/"},"https://xcodereleases.com/")),(0,n.kt)("h2",{id:"\u8c03\u8bd5\u6280\u5de7"},"\u8c03\u8bd5\u6280\u5de7"),(0,n.kt)("p",null,"\u5982\u4f55\u67e5\u770b\u5b8f\u5b9a\u4e49\u5c55\u5f00\u540e\u7684\u6837\u5b50\uff1a\u6253\u5f00\u8981\u67e5\u770b\u7684\u6587\u4ef6\uff0cXcode - Product - Perform Action - Preprocess File\u3002"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"po bt all")," \u6253\u5370\u5168\u90e8\u5806\u6808\u4fe1\u606f\uff08print object, backtrace\uff09"),(0,n.kt)("p",null,"\u4f60\u4f1a\u53d1\u73b0\u8f93\u51fa\u7684\u4fe1\u606f\u4e2d\u5e26\u6709 ",(0,n.kt)("inlineCode",{parentName:"p"},"$1"),"\u3001",(0,n.kt)("inlineCode",{parentName:"p"},"$2")," \u7684\u5b57\u6837\u3002\u5b9e\u9645\u4e0a\uff0clldb \u7684\u6bcf\u6b21\u67e5\u8be2\u7ed3\u679c\u4f1a\u4fdd\u5b58\u5728\u4e00\u4e9b\u6301\u7eed\u53d8\u91cf\u4e2d\uff0c",(0,n.kt)("inlineCode",{parentName:"p"},"(\\$[0-9]+)"),"\uff0c\u4e4b\u540e\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3001\u4fee\u6539\u8fd9\u4e9b\u503c\u3002"),(0,n.kt)("p",null,"\u6e05\u7a7a ",(0,n.kt)("inlineCode",{parentName:"p"},"UserDefaults"),"\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"expr [[NSUserDefaults standardUserDefaults] setPersistentDomain:[NSDictionary dictionary] forName:[[NSBundle mainBundle] bundleIdentifier]]\n")),(0,n.kt)("p",null,"\u5c06\u5b57\u5178\u6253\u5370\u6210 json\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"p print(String(data: try! JSONSerialization.data(withJSONObject: dict, options: .prettyPrinted), encoding: .utf8 )!)\n")),(0,n.kt)("p",null,"\u521b\u5efa Swift \u53d8\u91cf\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},'e var $map = ["a": 1]'),"\uff0c\u6253\u5370\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"po $map")),(0,n.kt)("p",null,"\u6253\u5370\u6a21\u62df\u5668\u6c99\u76d2\u8def\u5f84\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"po NSHomeDirectory()")),(0,n.kt)("p",null,"\u5982\u4f55\u89e3\u7801\u4e8c\u8fdb\u5236 plist \u6587\u4ef6\uff1aVSCode \u5b89\u88c5\u63d2\u4ef6\u5373\u53ef\u67e5\u770b\u3002\u5907\u7528\uff1a",(0,n.kt)("a",{parentName:"p",href:"https://georgegarside.com/blog/macos/decode-data-plist/"},"Decode data plist in property list files \u2013 George Garside")),(0,n.kt)("h2",{id:"\u5728-xcode-\u4e2d\u6253\u5f00-terminal"},"\u5728 Xcode \u4e2d\u6253\u5f00 Terminal"),(0,n.kt)("p",null,"1","."," Create executable shell script with the following contents and save it anywhere"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\nopen -a Terminal "`pwd`"\n')),(0,n.kt)("p",null,"2","."," Add execute permissions to your script: ",(0,n.kt)("inlineCode",{parentName:"p"},"chmod +x <YourShellScript>")),(0,n.kt)("p",null,"3","."," In the Xcode menu bar, Go to Xcode -> Preferences -> Behaviors."),(0,n.kt)("p",null,"4",".",' Add a Custom behavior, name it "Open Terminal". (Optional) Configure a hotkey for the behavior.'),(0,n.kt)("p",null,"5","."," Checkmark Run, select you script from step 1."),(0,n.kt)("h2",{id:"\u6a21\u62df\u5668\u5b89\u88c5\u8def\u5f84"},"\u6a21\u62df\u5668\u5b89\u88c5\u8def\u5f84"),(0,n.kt)("p",null,"Runtimes: ",(0,n.kt)("inlineCode",{parentName:"p"},"$ open /Library/Developer/CoreSimulator/Profiles/Runtimes")),(0,n.kt)("p",null,"Devices: ",(0,n.kt)("inlineCode",{parentName:"p"},"$ open ~/Library/Developer/CoreSimulator/Devices")),(0,n.kt)("p",null,"\u67e5\u770b\u53ef\u7528\u7684\u6a21\u62df\u5668\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"xcrun simctl list")),(0,n.kt)("h2",{id:"infoplist"},"Info.plist"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"UIFileSharingEnabled")," \u5728 iTunes File Sharing \u4e2d\u53ef\u89c1"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"NSAppTransportSecurity")," \u5141\u8bb8\u975e HTTPS"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"LSSupportsOpeningDocumentsInPlace"),": A Boolean value indicating whether the app may open the original document from a file provider, rather than a copy of the document."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"UISupportsDocumentBrowser"),": To allow other apps to open and edit the files stored in your app\u2019s Documents folder, set this key to YES. This key also lets users set the app\u2019s default save location in Settings."),(0,n.kt)("p",null,"plist \u6587\u4ef6\u91cc\u58f0\u660e ",(0,n.kt)("a",{parentName:"p",href:"https://developer.apple.com/support/required-device-capabilities/"},"Required Device Capabilities"),"\uff0c\u4fdd\u8bc1\u7528\u6237\u53ea\u4e0b\u8f7d\u5230\u4ed6\u4eec\u8bbe\u5907\u6240\u652f\u6301\u7684 App"),(0,n.kt)("h2",{id:"\u73af\u5883\u53d8\u91cf"},"\u73af\u5883\u53d8\u91cf"),(0,n.kt)("p",null,"\u5728\u547d\u4ee4\u884c\u8f93\u5165\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"export OBJC_HELP=1"),"\uff0c\u518d\u8f93\u5165\u4efb\u610f\u547d\u4ee4\u4f8b\u5982 ",(0,n.kt)("inlineCode",{parentName:"p"},"ls"),"\uff0c\u4f1a\u6253\u5370\u4ee5\u4e0b\u5185\u5bb9\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"objc[90825]: Objective-C runtime debugging. Set variable=YES to enable.\nobjc[90825]: OBJC_HELP: describe available environment variables\nobjc[90825]: OBJC_PRINT_OPTIONS: list which options are set\nobjc[90825]: OBJC_PRINT_IMAGES: log image and library names as they are loaded\nobjc[90825]: OBJC_PRINT_IMAGE_TIMES: measure duration of image loading steps\nobjc[90825]: OBJC_PRINT_LOAD_METHODS: log calls to class and category +load methods\nobjc[90825]: OBJC_PRINT_INITIALIZE_METHODS: log calls to class +initialize methods\nobjc[90825]: OBJC_PRINT_RESOLVED_METHODS: log methods created by +resolveClassMethod: and +resolveInstanceMethod:\nobjc[90825]: OBJC_PRINT_CLASS_SETUP: log progress of class and category setup\nobjc[90825]: OBJC_PRINT_PROTOCOL_SETUP: log progress of protocol setup\nobjc[90825]: OBJC_PRINT_IVAR_SETUP: log processing of non-fragile ivars\nobjc[90825]: OBJC_PRINT_VTABLE_SETUP: log processing of class vtables\nobjc[90825]: OBJC_PRINT_VTABLE_IMAGES: print vtable images showing overridden methods\nobjc[90825]: OBJC_PRINT_CACHE_SETUP: log processing of method caches\nobjc[90825]: OBJC_PRINT_FUTURE_CLASSES: log use of future classes for toll-free bridging\nobjc[90825]: OBJC_PRINT_PREOPTIMIZATION: log preoptimization courtesy of dyld shared cache\nobjc[90825]: OBJC_PRINT_CXX_CTORS: log calls to C++ ctors and dtors for instance variables\nobjc[90825]: OBJC_PRINT_EXCEPTIONS: log exception handling\nobjc[90825]: OBJC_PRINT_EXCEPTION_THROW: log backtrace of every objc_exception_throw()\nobjc[90825]: OBJC_PRINT_ALT_HANDLERS: log processing of exception alt handlers\nobjc[90825]: OBJC_PRINT_REPLACED_METHODS: log methods replaced by category implementations\nobjc[90825]: OBJC_PRINT_DEPRECATION_WARNINGS: warn about calls to deprecated runtime functions\nobjc[90825]: OBJC_PRINT_POOL_HIGHWATER: log high-water marks for autorelease pools\nobjc[90825]: OBJC_PRINT_CUSTOM_CORE: log classes with custom core methods\nobjc[90825]: OBJC_PRINT_CUSTOM_RR: log classes with custom retain/release methods\nobjc[90825]: OBJC_PRINT_CUSTOM_AWZ: log classes with custom allocWithZone methods\nobjc[90825]: OBJC_PRINT_RAW_ISA: log classes that require raw pointer isa fields\nobjc[90825]: OBJC_DEBUG_UNLOAD: warn about poorly-behaving bundles when unloaded\nobjc[90825]: OBJC_DEBUG_FRAGILE_SUPERCLASSES: warn about subclasses that may have been broken by subsequent changes to superclasses\nobjc[90825]: OBJC_DEBUG_NIL_SYNC: warn about @synchronized(nil), which does no synchronization\nobjc[90825]: OBJC_DEBUG_NONFRAGILE_IVARS: capriciously rearrange non-fragile ivars\nobjc[90825]: OBJC_DEBUG_ALT_HANDLERS: record more info about bad alt handler use\nobjc[90825]: OBJC_DEBUG_MISSING_POOLS: warn about autorelease with no pool in place, which may be a leak\nobjc[90825]: OBJC_DEBUG_POOL_ALLOCATION: halt when autorelease pools are popped out of order, and allow heap debuggers to track autorelease pools\nobjc[90825]: OBJC_DEBUG_DUPLICATE_CLASSES: halt when multiple classes with the same name are present\nobjc[90825]: OBJC_DEBUG_DONT_CRASH: halt the process by exiting instead of crashing\nobjc[90825]: OBJC_DEBUG_POOL_DEPTH: log fault when at least a set number of autorelease pages has been allocated\nobjc[90825]: OBJC_DEBUG_SCRIBBLE_CACHES: scribble the IMPs in freed method caches\nobjc[90825]: OBJC_DEBUG_SCAN_WEAK_TABLES: scan the weak references table continuously in the background - set OBJC_DEBUG_SCAN_WEAK_TABLES_INTERVAL_NANOSECONDS to set scanning interval (default 1000000)\nobjc[90825]: OBJC_DISABLE_VTABLES: disable vtable dispatch\nobjc[90825]: OBJC_DISABLE_PREOPTIMIZATION: disable preoptimization courtesy of dyld shared cache\nobjc[90825]: OBJC_DISABLE_TAGGED_POINTERS: disable tagged pointer optimization of NSNumber et al.\nobjc[90825]: OBJC_DISABLE_TAG_OBFUSCATION: disable obfuscation of tagged pointers\nobjc[90825]: OBJC_DISABLE_NONPOINTER_ISA: disable non-pointer isa fields\nobjc[90825]: OBJC_DISABLE_INITIALIZE_FORK_SAFETY: disable safety checks for +initialize after fork\nobjc[90825]: OBJC_DISABLE_FAULTS: disable os faults\nobjc[90825]: OBJC_DISABLE_PREOPTIMIZED_CACHES: disable preoptimized caches\nobjc[90825]: OBJC_DISABLE_AUTORELEASE_COALESCING: disable coalescing of autorelease pool pointers\nobjc[90825]: OBJC_DISABLE_AUTORELEASE_COALESCING_LRU: disable coalescing of autorelease pool pointers using look back N strategy\n")),(0,n.kt)("h2",{id:"\u7edf\u8ba1\u7f16\u8bd1\u65f6\u95f4"},"\u7edf\u8ba1\u7f16\u8bd1\u65f6\u95f4"),(0,n.kt)("p",null,"\u5728 Xcode \u4e2d\u76f4\u63a5\u770b\u5230\u7f16\u8bd1\u9879\u76ee\u7684\u65f6\u95f4\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5173\u95ed Xcode"),(0,n.kt)("li",{parentName:"ol"},"\u7ec8\u7aef\u6267\u884c ",(0,n.kt)("inlineCode",{parentName:"li"},"defaults write com.apple.dt.Xcode ShowBuildOperationDuration YES")),(0,n.kt)("li",{parentName:"ol"},"\u91cd\u542f Xcode")))}d.isMDXComponent=!0}}]);