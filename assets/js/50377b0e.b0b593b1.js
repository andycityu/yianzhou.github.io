"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6495],{51787:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>g,frontMatter:()=>l,metadata:()=>i,toc:()=>u});var a=o(87462),t=(o(67294),o(3905));o(61839);const l={},r="GLSL",i={unversionedId:"glsl",id:"glsl",title:"GLSL",description:"Introduction",source:"@site/docs/language/glsl.md",sourceDirName:".",slug:"/glsl",permalink:"/docs/language/glsl",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Dart",permalink:"/docs/language/dart"},next:{title:"Java",permalink:"/docs/language/java"}},d={},u=[{value:"Introduction",id:"introduction",level:2}],c={toc:u};function g(e){let{components:n,...o}=e;return(0,t.kt)("wrapper",(0,a.Z)({},c,o,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"glsl"},"GLSL"),(0,t.kt)("h2",{id:"introduction"},"Introduction"),(0,t.kt)("p",null,"\u5168\u5c4f\u7ea2\u8272\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = vec4(1, 0, 0, 1);\n}\n")),(0,t.kt)("p",null,"\u7ea2\u8272\u6e10\u53d8\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = vec4(uv.x, 0, 0, 1);\n}\n")),(0,t.kt)("p",null,"x, y \u540c\u65f6\u6e10\u53d8\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = vec4(uv, 0, 1);\n}\n")),(0,t.kt)("p",null,"\u5728 GLSL\uff08OpenGL Shading Language\uff09\u4e2d\uff0c",(0,t.kt)("strong",{parentName:"p"},"Swizzling")," \u662f\u4e00\u79cd\u7528\u4e8e\u91cd\u65b0\u6392\u5217\u548c\u9009\u62e9\u5411\u91cf\u5206\u91cf\u7684\u64cd\u4f5c\u3002\u5b83\u5141\u8bb8\u4f60\u901a\u8fc7\u7b80\u5355\u7684\u8bed\u6cd5\u6765\u8bbf\u95ee\u548c\u7ec4\u5408\u5411\u91cf\u7684\u5206\u91cf\uff0c\u4ece\u800c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u7b80\u6d01\u6027\u3002"),(0,t.kt)("p",null,'\u79fb\u52a8\u4e00\u4e2a\u5750\u6807\u7cfb\u7684\u539f\u70b9\u79f0\u4e3a"\u5e73\u79fb"\u3002\u5728\u6570\u5b66\u548c\u7269\u7406\u5b66\u4e2d\uff0c\u5e73\u79fb\uff08Translation\uff09\u662f\u6307\u5c06\u6574\u4e2a\u5750\u6807\u7cfb\u6216\u56fe\u5f62\u6cbf\u7740\u67d0\u4e2a\u65b9\u5411\u79fb\u52a8\uff0c\u4f46\u4e0d\u6539\u53d8\u5176\u5f62\u72b6\u3001\u5927\u5c0f\u548c\u65b9\u5411\u3002\u4ee5\u4e2d\u5fc3\u70b9\u4e3a\u539f\u70b9\uff1a'),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    uv -= 0.5;\n    uv *= 2.0;\n    fragColor = vec4(uv, 0, 1);\n}\n")),(0,t.kt)("p",null,"\u7b49\u4ef7\u4e8e\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy * 2.0 - 1.0;\n    fragColor = vec4(uv, 0, 1);\n}\n")),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"float"),"\u51fd\u6570\uff0c\u8ba1\u7b97\u5411\u91cf\u7684\u957f\u5ea6\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy * 2.0 - 1.0;\n    float d = length(uv);\n    fragColor = vec4(d, d, d, 1);\n}\n")),(0,t.kt)("p",null,"d \u4ee3\u8868\u6bcf\u4e2a\u50cf\u7d20\u70b9\u5230\u5750\u6807\u7cfb\u539f\u70b9\u7684\u957f\u5ea6\uff0c\u6700\u7ec8\u8f93\u51fa\u662f\u4ee5\u4e2d\u5fc3\u4e3a\u539f\u70b9\u7684\u6e10\u53d8\u7070\u9636\u56fe\u50cf\u3002"),(0,t.kt)("p",null,"\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u753b\u5e03\u4e0d\u662f\u6b63\u65b9\u5f62\uff0c\u5982\u679c\u662f 16:9 \u7684\u753b\u5e03\uff0cy \u7684\u53d6\u503c\u8303\u56f4\u662f","[-1, 1]","\uff0c\u90a3\u4e48 x \u7684\u53d6\u503c\u8303\u56f4\u5e94\u8be5\u662f",(0,t.kt)("inlineCode",{parentName:"p"},"[-16/9, 16/9]"),"\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord / iResolution.xy * 2.0 - 1.0;\n    uv.x *= iResolution.x / iResolution.y;\n    float d = length(uv);\n    fragColor = vec4(d, d, d, 1);\n}\n")),(0,t.kt)("p",null,"\u7b49\u4ef7\u4e8e\uff1a",(0,t.kt)("inlineCode",{parentName:"p"},"vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y")),(0,t.kt)("p",null,"\u8fd9\u6837\uff0c\u5c31\u907f\u514d\u4e86\u56fe\u50cf\u7684\u62c9\u4f38\u53d8\u5f62\u3002\u53ef\u4ee5\u5c1d\u8bd5",(0,t.kt)("inlineCode",{parentName:"p"},"uv.y *= iResolution.y / iResolution.x;"),"\u4f1a\u6709\u4e0d\u540c\u7684\u6548\u679c\u3002"),(0,t.kt)("p",null,"Sign distance function (SDF) \u5bf9\u4e8e\u7ed9\u5b9a\u7684\u70b9\uff0c\u51fd\u6570\u8fd4\u56de\u8be5\u70b9\u5230\u6700\u8fd1\u8868\u9762\u7684\u8ddd\u79bb\uff0c\u5e76\u4e14\u8fd9\u4e2a\u8ddd\u79bb\u662f\u6709\u7b26\u53f7\u7684\uff1a\u6b63\u503c\u8868\u793a\u70b9\u5728\u5f62\u72b6\u7684\u5916\u90e8\uff0c\u8d1f\u503c\u8868\u793a\u70b9\u5728\u5f62\u72b6\u7684\u5185\u90e8\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"float sdCircle( vec2 p, float r ) {\n    return length(p) - r;\n}\n")),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"step")," \u548c ",(0,t.kt)("inlineCode",{parentName:"p"},"smoothstep"),":"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n    float d = length(uv); // \u4ee5\u5c4f\u5e55\u4e2d\u5fc3\u70b9\u4e3a\u539f\u70b9\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u50cf\u7d20\u70b9\u5230\u539f\u70b9\u7684\u8ddd\u79bb\n    d -= 0.5; // \u534a\u5f84\u4e3a0.5\u7684\u5706\n    d = abs(d); // \u5706\u7684\u8868\u9762\u5411\u5916\u3001\u5411\u5706\u5fc3\u4e24\u4e2a\u65b9\u5411\u6e10\u53d8\n    d = step(0.1, d); // \u5706\u73af\n    fragColor = vec4(d, d, d, 1);\n}\n")),(0,t.kt)("p",null,"\u67e5\u770b ",(0,t.kt)("inlineCode",{parentName:"p"},"smoothstep")," \u51fd\u6570\u66f2\u7ebf\uff1a",(0,t.kt)("a",{parentName:"p",href:"https://fordhurley.com/glsl-grapher/#smoothstep"},"https://fordhurley.com/glsl-grapher/#smoothstep")),(0,t.kt)("p",null,"\u540c\u5fc3\u5706\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n    float d = length(uv); // d -> [0, 1]\n    d = sin(d * 8.); // sin(d) -> [0, 0.84], sin(d * 8) -> [-1, 1]\n    d = abs(d);\n    fragColor = vec4(d, d, d, 1);\n}\n")),(0,t.kt)("p",null,"\u968f\u65f6\u95f4\u800c\u53d8\u5316\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n    float d = length(uv); // d -> [0, 1]\n    d = sin(d * 8. + iTime); // sin(d) -> [0, 0.84], sin(d * 8) -> [-1, 1]\n    d /= 8.; // [-0.125, 0.125]\n    d = abs(d); // [0, 0.125]\n    d = smoothstep(0.0, 0.1, d);\n    fragColor = vec4(d, d, d, 1);\n}\n")),(0,t.kt)("p",null,(0,t.kt)("a",{parentName:"p",href:"https://graphtoy.com/"},"https://graphtoy.com/")," \u51fd\u6570\u56fe\u50cf"),(0,t.kt)("p",null,"\u6dfb\u52a0\u8272\u5f69\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n    float d = length(uv);\n    d = sin(d * 8. + iTime) / 8.;\n    d = abs(d);\n    d = 0.02 / d;\n\n    vec3 color = vec3(1.0, 1.0, 0.0);\n    color *= d;\n\n    fragColor = vec4(color, 1);\n}\n")),(0,t.kt)("p",null,"\u4f7f\u7528 ",(0,t.kt)("inlineCode",{parentName:"p"},"fract")," \u51fd\u6570\u5206\u5272\u51fa\u591a\u4e2a\u7a7a\u95f4\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-c"},"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n\n    uv = fract(uv * 2.0) - 0.5;\n\n    float d = length(uv);\n\n    d = sin(d * 8. + iTime) / 8.;\n    d = abs(d);\n    d = 0.02 / d;\n\n    vec3 col = vec3(1.0, 1.0, 0.0);\n    col *= d;\n\n    fragColor = vec4(col, 1);\n}\n")))}g.isMDXComponent=!0}}]);