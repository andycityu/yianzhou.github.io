"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7841],{4308:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));n(61839);const l={slug:"/"},o="Debug",r={unversionedId:"debug",id:"debug",title:"Debug",description:"\u7ec8\u7aef\u9000\u51fa App\uff1aosascript -e 'quit app \"Xcode\"'",source:"@site/docs/apple/debug.md",sourceDirName:".",slug:"/",permalink:"/docs/apple/",draft:!1,editUrl:"https://github.com/yianzhou/yianzhou.github.io/docs/apple/debug.md",tags:[],version:"current",frontMatter:{slug:"/"},sidebar:"tutorialSidebar",previous:{title:"\u5d29\u6e83",permalink:"/docs/apple/crash"},next:{title:"Frameworks",permalink:"/docs/apple/frameworks"}},p={},s=[{value:"\u516c\u4f17\u53f7",id:"\u516c\u4f17\u53f7",level:2},{value:"\u8bbe\u5907\u4fe1\u606f",id:"\u8bbe\u5907\u4fe1\u606f",level:2},{value:"iPhone \u8bbe\u5907\u5185\u5b58\u4fe1\u606f",id:"iphone-\u8bbe\u5907\u5185\u5b58\u4fe1\u606f",level:2},{value:"IPA",id:"ipa",level:2},{value:"APNG",id:"apng",level:2},{value:"iOS 10 \u53ca\u4ee5\u4e0a\u5141\u8bb8\u4f7f\u7528\u65e0\u7ebf\u6570\u636e",id:"ios-10-\u53ca\u4ee5\u4e0a\u5141\u8bb8\u4f7f\u7528\u65e0\u7ebf\u6570\u636e",level:2},{value:"\u7f51\u7edc",id:"\u7f51\u7edc",level:2},{value:"copy, mutableCopy",id:"copy-mutablecopy",level:2},{value:"NSLog",id:"nslog",level:2},{value:"URLSession \u5185\u5b58\u5173\u7cfb",id:"urlsession-\u5185\u5b58\u5173\u7cfb",level:2},{value:"\u7f16\u8bd1\u62a5\u9519",id:"\u7f16\u8bd1\u62a5\u9519",level:2}],m={toc:s};function u(e){let{components:t,...l}=e;return(0,i.kt)("wrapper",(0,a.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"debug"},"Debug"),(0,i.kt)("p",null,"\u7ec8\u7aef\u9000\u51fa App\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"osascript -e 'quit app \"Xcode\"'")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/ChenYilong/iOSInterviewQuestions"},"ChenYilong/iOSInterviewQuestions: iOS interview questions;iOS \u9762\u8bd5\u9898\u96c6\u9526\uff08\u9644\u7b54\u6848\uff09")),(0,i.kt)("h2",{id:"\u516c\u4f17\u53f7"},"\u516c\u4f17\u53f7"),(0,i.kt)("p",null,"\u767e\u5ea6 APP \u6280\u672f\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/6_FGFU7-X7URMms6-ucyZQ"},"\u767e\u5ea6 APP iOS \u7aef\u5185\u5b58\u4f18\u5316-\u539f\u7406\u7bc7")),(0,i.kt)("p",null,"\u5b57\u8282\u8df3\u52a8\u6280\u672f\u56e2\u961f\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/gMxTq0_nmE-xW7GA3pkBJg"},"iOS \u9ad8\u5237\u5c4f\u76d1\u63a7 + \u4f18\u5316\uff1a\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5168\u9762\u89e3\u6790")),(0,i.kt)("p",null,"\u963f\u91cc\u5df4\u5df4\u7ec8\u7aef\u6280\u672f\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/0DidXWLDeqXpsjGBv69ITQ"},"\u5938\u514b iOS Top1 JSC \u5d29\u6e83\u653b\u514b\u4e4b\u65c5")),(0,i.kt)("p",null,"\u817e\u8baf\u97f3\u4e50\u6280\u672f\u56e2\u961f\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/TW5NMiGKYY3jTNuugbJxfQ"},"iOS Crash \u9632\u62a4\u4f60\u770b\u8fd9\u4e2a\u5c31\u591f\u4e86-\u4e0a\u7bc7")),(0,i.kt)("p",null,"\u5fae\u4fe1\u5ba2\u6237\u7aef\u6280\u672f\u56e2\u961f\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/Ph0jykLr5CMF-xFgoJw5UQ"},"iOS \u5fae\u4fe1\u5168\u6587\u641c\u7d22\u6280\u672f\u4f18\u5316")),(0,i.kt)("h2",{id:"\u8bbe\u5907\u4fe1\u606f"},"\u8bbe\u5907\u4fe1\u606f"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/List_of_iOS_and_iPadOS_devices"},"List of iOS and iPadOS devices - Wikipedia")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.ios-resolution.com/"},"iOS Resolution // Display proerties of every iPhone, iPad and iPod touch Apple ever made")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.gsmarena.com/apple_iphone_13-11103.php"},"Apple iPhone 13 - Full phone specifications")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.knowyourmobile.com/phones/iphone-ram-size-comparison-chart-all-the-models-listed/"},"iPhone RAM Size Comparison Chart: All The Models Listed")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.intego.com/mac-security-blog/how-much-ram-is-in-an-iphone-why-apple-doesnt-give-specs/"},"How Much RAM Is in the iPhone 13? Why Apple Doesn't Give Specs - The Mac Security Blog")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://gist.github.com/adamawolf/3048717"},"List of Apple's mobile device codes types and their matching product names")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://lookin.work/"},"Lookin - \u514d\u8d39\u597d\u7528\u7684 iOS UI \u8c03\u8bd5\u8f6f\u4ef6")),(0,i.kt)("p",null,"\u79c1\u6709\u5e93\u53ca\u79c1\u6709 API\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://github.com/nst/iOS-Runtime-Headers"},"iOS-Runtime-Headers")),(0,i.kt)("h2",{id:"iphone-\u8bbe\u5907\u5185\u5b58\u4fe1\u606f"},"iPhone \u8bbe\u5907\u5185\u5b58\u4fe1\u606f"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u5185\u5b58"),(0,i.kt)("th",{parentName:"tr",align:null},"\u8bbe\u5907"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"6GB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone 13 Pro Max, iPhone 13 Pro, iPhone 12 Pro Max, iPhone 12 Pro")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"4GB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone SE (2022), iPhone 13, iPhone 13 mini, iPhone 12, iPhone 12 mini, iPhone 11, iPhone 11 Pro, iPhone 11 Pro Max")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"3GB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone SE (2nd Gen), iPhone XS, iPhone XS Max, iPhone XR, iPhone X, iPhone 8 Plus, iPhone 7 Plus")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"2GB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone 8, iPhone 7, iPhone SE, iPhone 6s Plus, iPhone 6s")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1GB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone 6 Plus, iPhone 6, iPhone 5s, iPhone 5C, iPhone 5")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"512MB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone 4S, iPhone 4")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"256MB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone 3GS")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"128MB"),(0,i.kt)("td",{parentName:"tr",align:null},"iPhone, iPhone 3G")))),(0,i.kt)("h2",{id:"ipa"},"IPA"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"http://www.gsnice.com/2020/04/ios-apple-configurator-ipa/"},"iOS\uff1a\u4f7f\u7528 Apple Configurator \u83b7\u53d6 ipa \u5305\u53ca\u8d44\u6e90\u6587\u4ef6")),(0,i.kt)("li",{parentName:"ul"},"\u547d\u4ee4\u884c\u5de5\u5177\uff1a",(0,i.kt)("a",{parentName:"li",href:"https://github.com/majd/ipatool"},"majd/ipatool"))),(0,i.kt)("h2",{id:"apng"},"APNG"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://ezgif.com/apng-maker"},"Animated PNG (APNG) Maker")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"http://littlesvr.ca/apng/assembler/assembler.php"},"Online APNG Assembler")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"http://littlesvr.ca/apng/"},"APNG Software")),(0,i.kt)("h2",{id:"ios-10-\u53ca\u4ee5\u4e0a\u5141\u8bb8\u4f7f\u7528\u65e0\u7ebf\u6570\u636e"},"iOS 10 \u53ca\u4ee5\u4e0a\u5141\u8bb8\u4f7f\u7528\u65e0\u7ebf\u6570\u636e"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/Zuikyo/ZIKCellularAuthorization"},"\u89e3\u51b3\u65b9\u6848")),(0,i.kt)("p",null,"\u52a8\u6001\u52a0\u8f7d\u79c1\u6709\u5e93\uff0c\u5e76\u8c03\u7528\u79c1\u6709 API \u5b9e\u73b0\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objc"},'#import <dlfcn.h>\n\nvoid * FTServicesHandle = dlopen("/System/Library/PrivateFrameworks/FTServices.framework/FTServices", RTLD_LAZY);\nClass NetworkSupport = NSClassFromString(@"FTNetworkSupport");\nid networkSupport = [NetworkSupport performSelector:NSSelectorFromString(@"sharedInstance")];\n[networkSupport performSelector:NSSelectorFromString(@"dataActiveAndReachable")];\ndlclose(FTServicesHandle);\n')),(0,i.kt)("p",null,"\u4ec5\u4f9b\u53c2\u8003\uff01\u76ee\u524d\u4e0d\u5efa\u8bae\u5728 App Store \u6b63\u5f0f\u7248\u4e2d\u4f7f\u7528\uff0c\u4f01\u4e1a app \u4e2d\u53ef\u4ee5\u968f\u610f\u4f7f\u7528\u3002\u73b0\u5728\u82f9\u679c\u7981\u6b62\u5728\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"dlopen()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"dlsym()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"respondsToSelector:"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"performSelector:"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"method_exchangeImplementations()")," \u65f6\u4f20\u5165\u52a8\u6001\u751f\u6210\u7684\u53c2\u6570\uff0c\u8fd9\u901a\u8fc7\u9759\u6001\u5206\u6790\u662f\u80fd\u591f\u88ab\u68c0\u67e5\u51fa\u6765\u7684\u3002\u82f9\u679c\u4f1a\u68c0\u67e5\u5f15\u7528\u4e86\u8fd9\u4e9b\u7b26\u53f7\u7684\u90a3\u90e8\u5206\u6c47\u7f16\u4ee3\u7801\uff0c\u5224\u65ad\u4f20\u5165\u7684\u53c2\u6570\u662f\u5426\u662f\u9759\u6001\u7f16\u8bd1\u7684\u3002"),(0,i.kt)("h2",{id:"\u7f51\u7edc"},"\u7f51\u7edc"),(0,i.kt)("p",null,"\u53ef\u4f9b\u8c03\u8bd5\u7684\u63a5\u53e3\uff1a",(0,i.kt)("a",{parentName:"p",href:"http://requestbin.net/"},"http://requestbin.net/"),"\uff0c",(0,i.kt)("a",{parentName:"p",href:"https://httpbin.org/get"},"https://httpbin.org/get"),"\uff0c",(0,i.kt)("a",{parentName:"p",href:"https://httpbin.org/post"},"https://httpbin.org/post")),(0,i.kt)("p",null,"\u6a21\u62df\u5668\u7528\u7684\u7f51\u7edc\u8c03\u8282\u5668\uff1a\u5148",(0,i.kt)("a",{parentName:"p",href:"https://developer.apple.com/download/more/?=for%20Xcode"},"\u4e0b\u8f7d"),"\uff0ccopying the .prefPane file to: ",(0,i.kt)("inlineCode",{parentName:"p"},"/Library/PreferencePanes")),(0,i.kt)("p",null,"Charles HTTPS \u6293\u5305\u68c0\u67e5\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u7535\u8111\u4e0a\u7684\u8bc1\u4e66\u662f\u5426\u5df2\u5b89\u88c5\u597d\uff08Help - SSL Proxying - Install Charles Root Certificate\uff09\uff0cKeychain Access \u4e2d\u662f\u5426\u5df2\u4fe1\u4efb\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u624b\u673a\u4e0a\u8fde\u4e0a\u4ee3\u7406\uff0c\u8bbf\u95ee <chls.pro/ssl> \u4e0b\u8f7d\u8bc1\u4e66\uff0c\u5728 General - Profile \u4e2d\u542f\u7528\uff0c\u5728 General - About - Certificate Trust Settings \u4e2d\u542f\u7528\u3002")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.zzzmode.com/mytools/charles/"},"Charles \u5728\u7ebf\u7834\u89e3\u5de5\u5177")),(0,i.kt)("p",null,"\u53ef\u89c6\u5316\u8c03\u8bd5\uff1a\u4e00\u6b3e POSTMAN \u7684\u66ff\u4ee3\u54c1\uff0cChrome \u63d2\u4ef6 Talend API Tester"),(0,i.kt)("h2",{id:"copy-mutablecopy"},"copy, mutableCopy"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"NSObject")," \u6709\u4e24\u4e2a\u65b9\u6cd5\uff0c"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"copy")," \u8c03\u7528\u4e86 ",(0,i.kt)("inlineCode",{parentName:"li"},"NSCopying")," \u534f\u8bae\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"copyWithZone:")," \u65b9\u6cd5\uff1b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mutableCopy")," \u8c03\u7528\u4e86 ",(0,i.kt)("inlineCode",{parentName:"li"},"NSMutableCopying")," \u534f\u8bae\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"mutableCopyWithZone:")," \u65b9\u6cd5\u3002")),(0,i.kt)("p",null,"\u5f53 ",(0,i.kt)("inlineCode",{parentName:"p"},"NSMutableArray")," \u58f0\u660e\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"copy")," \u7684\u5c5e\u6027\u65f6\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objc"},"@property(nonatomic, copy) NSMutableArray* mutableArray;\n")),(0,i.kt)("p",null,"\u5b83\u7684\u80cc\u540e\u5b9e\u73b0\u662f\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objc"},"-(void)setMutableArray:(NSMutableArray *)mutableArray {\n    _mutableArray = [mutableArray copy];\n}\n")),(0,i.kt)("p",null,"\u56e0\u6b64\uff0cmutableArray \u5b9e\u9645\u5f97\u5230\u7684\u662f\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"NSArray")," \u5bf9\u8c61\uff0c\u5982\u679c\u5bf9\u5b83\u8c03\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"insertObject:atIndex:")," \u7b49\u65b9\u6cd5\uff0c\u5c31\u4f1a\u5d29\u6e83\u3002"),(0,i.kt)("p",null,"\u5f53\u4fee\u9970\u53ef\u53d8\u7c7b\u578b\u7684\u5c5e\u6027\u65f6\uff0c\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},"NSMutableArray"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"NSMutableDictionary"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"NSMutableString"),"\uff0c\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"strong"),"\uff1b"),(0,i.kt)("p",null,"\u5f53\u4fee\u9970\u4e0d\u53ef\u53d8\u7c7b\u578b\u7684\u5c5e\u6027\u65f6\uff0c\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},"NSArray"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"NSDictionary"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"NSString"),"\uff0c\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"copy"),"\uff08\u8fd9\u4e9b\u7c7b\u578b\u5728\u5c5e\u6027\u8d4b\u503c\u65f6\uff0c\u53f3\u8fb9\u7684\u503c\u6709\u53ef\u80fd\u662f\u5b83\u4eec\u7684\u53ef\u53d8\u7248\u672c\u3002\u8fd9\u6837\u5f53\u53ef\u53d8\u7248\u672c\u5bf9\u8c61\u8fdb\u884c\u589e\u5220\u6539\u7684\u65f6\u5019\uff0c\u5c5e\u6027\u4e5f\u4f1a\u76f8\u5e94\u88ab\u4fee\u6539\uff0c\u6240\u4ee5\u5b83\u4eec\u90fd\u5e94\u8be5\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"copy"),"\uff09\u3002"),(0,i.kt)("p",null,"Sending ",(0,i.kt)("inlineCode",{parentName:"p"},"copy")," to a mutable class returns an immutable copy of the object. But, sending ",(0,i.kt)("inlineCode",{parentName:"p"},"copy")," to an immutable counterpart is equivalent to sending it a ",(0,i.kt)("inlineCode",{parentName:"p"},"retain")," message."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objc"},'@interface DemoClass : NSObject\n@property (nonatomic, copy) NSString *strCopy;\n@property (nonatomic, strong) NSString *strStrong;\n@end\n\nDemoClass *demo = [[DemoClass alloc] init];\nNSMutableString *hello = [NSMutableString stringWithFormat:@"Hello"];\ndemo.strCopy = hello;\ndemo.strStrong = hello;\n[hello appendString:@" world!"];\n')),(0,i.kt)("h2",{id:"nslog"},"NSLog"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/Performance.md"},"The simple truth is that NSLog is just plain slow. Why?")),(0,i.kt)("p",null,"NSLog does 2 things:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"It writes log messages to the Apple System Logging (asl) facility. This allows log messages to show up in Console.app."),(0,i.kt)("li",{parentName:"ol"},"It also checks to see if the application's stderr stream is going to a terminal (such as when the application is being run via Xcode). If so it writes the log message to stderr (so that it shows up in the Xcode console).")),(0,i.kt)("p",null,"Writing to STDERR doesn't sound difficult. But what about asl? \u7b2c\u4e8c\u70b9\u542c\u8d77\u6765\u4e0d\u96be\uff0c\u4f46\u7b2c\u4e00\u70b9\u5462\uff1f"),(0,i.kt)("p",null,"To send a log message to the ASL facility, you basically open a client connection to the ASL daemon and send the message. BUT - each thread must use a separate client connection. So, to be thread safe, every time NSLog is called it opens a new asl client connection, sends the message, and then closes the connection."),(0,i.kt)("p",null,"The lumberjack framework avoids much of the cost by creating a single re-usable asl client connection for its background logging thread."),(0,i.kt)("h2",{id:"urlsession-\u5185\u5b58\u5173\u7cfb"},"URLSession \u5185\u5b58\u5173\u7cfb"),(0,i.kt)("p",null,"\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e00\u4e2a\u7591\u60d1\uff0c\u4e3a\u4ec0\u4e48\u51fd\u6570\u5185\u7684\u5c40\u90e8\u53d8\u91cf ",(0,i.kt)("inlineCode",{parentName:"p"},"urlSession")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"dataTask")," \u4e0d\u4f1a\u88ab\u91ca\u653e\uff0c\u7528\u4e86\u4e00\u4e2a demo \u6765\u9a8c\u8bc1\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-swift"},'class ViewController: UIViewController {\n    weak var weakObj: NSObject?\n    weak var weakTask: URLSessionDataTask?\n    weak var weakURLSession: URLSession?\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        // \u5bf9\u7167\u7ec4\n        let obj = NSObject()\n        self.weakObj = obj\n        // viewDidLoad() \u6267\u884c\u5b8c\u540e obj \u88ab\u91ca\u653e\n\n        let urlSession = URLSession(configuration: .default)\n        self.weakURLSession = urlSession\n        let url = URL(string: "https://www.baidu.com/")!\n        let task = urlSession.dataTask(with: url) { (data, response, error) in\n            print("response")\n        }\n        self.weakTask = task\n        task.resume()\n\n        // \u7b49\u5f85 task \u6267\u884c\u5b8c\u540e\uff0curlSession\u3001task \u624d\u4f1a\u91ca\u653e\uff0c\u4e0d\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u4f1a\u5185\u5b58\u6cc4\u6f0f\n        urlSession.finishTasksAndInvalidate()\n    }\n}\n')),(0,i.kt)("p",null,"\u5185\u5b58\u56fe\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"img-80",src:n(58919).Z,width:"2880",height:"1800"})),(0,i.kt)("h2",{id:"\u7f16\u8bd1\u62a5\u9519"},"\u7f16\u8bd1\u62a5\u9519"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"clang: error: linker command failed with exit code 1 (use -v to see invocation)\n1 error generated.\n2 errors generated.\n")))}u.isMDXComponent=!0},58919:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/C6815EAE-C632-4EFC-9BBF-9C45352A669D-c1390549ea0a892c6dc60c9d561c9de8.png"}}]);