"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8995],{88661:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>p,metadata:()=>o,toc:()=>s});var i=l(87462),n=(l(67294),l(3905));l(61839);const p={},a="\u52a0\u89e3\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d",o={unversionedId:"cryptography",id:"cryptography",title:"\u52a0\u89e3\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d",description:"\u52a0\u89e3\u5bc6",source:"@site/docs/dev/cryptography.md",sourceDirName:".",slug:"/cryptography",permalink:"/docs/dev/cryptography",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u8bfe\u7a0b\u8868",permalink:"/docs/dev/courses"},next:{title:"CSS",permalink:"/docs/dev/css"}},r={},s=[{value:"\u52a0\u89e3\u5bc6",id:"\u52a0\u89e3\u5bc6",level:2},{value:"\u52a0\u5bc6\u54c8\u5e0c\u51fd\u6570",id:"\u52a0\u5bc6\u54c8\u5e0c\u51fd\u6570",level:2},{value:"MAC",id:"mac",level:2},{value:"\u6570\u5b57\u7b7e\u540d",id:"\u6570\u5b57\u7b7e\u540d",level:2},{value:"\u4ee3\u7801\u7b7e\u540d",id:"\u4ee3\u7801\u7b7e\u540d",level:2}],c={toc:s};function u(e){let{components:t,...p}=e;return(0,n.kt)("wrapper",(0,i.Z)({},c,p,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"\u52a0\u89e3\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d"},"\u52a0\u89e3\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d"),(0,n.kt)("h2",{id:"\u52a0\u89e3\u5bc6"},"\u52a0\u89e3\u5bc6"),(0,n.kt)("p",null,"\u52a0\u5bc6\uff1a\u5bc6\u94a5 + \u660e\u6587 -> \u5bc6\u6587\uff1b"),(0,n.kt)("p",null,"\u89e3\u5bc6\uff1a\u5bc6\u94a5 + \u5bc6\u6587 -> \u660e\u6587\u3002"),(0,n.kt)("p",null,"\u5982\u679c\u52a0\u5bc6\u548c\u89e3\u5bc6\u8fc7\u7a0b\u7684\u5bc6\u94a5\u76f8\u540c\uff0c\u5219\u79f0\u4e3a\u5bf9\u79f0\u52a0\u5bc6\uff0c\u53cd\u4e4b\u4e3a\u975e\u5bf9\u79f0\u52a0\u5bc6\u3002"),(0,n.kt)("p",null,"\u5bf9\u79f0\u52a0\u5bc6\uff1astream ciphers and block ciphers (DES, 3DES, AES)\u3002"),(0,n.kt)("p",null,"\u975e\u5bf9\u79f0\u52a0\u5bc6\uff1aRSA\uff0c\u53d1\u9001\u8005\u516c\u94a5\u52a0\u5bc6\u3001\u63a5\u6536\u8005\u79c1\u94a5\u89e3\u5bc6\u3002"),(0,n.kt)("h2",{id:"\u52a0\u5bc6\u54c8\u5e0c\u51fd\u6570"},"\u52a0\u5bc6\u54c8\u5e0c\u51fd\u6570"),(0,n.kt)("p",null,"\u54c8\u5e0c\u51fd\u6570\u5c06\u4efb\u610f\u957f\u5ea6\u7684\u6d88\u606f\uff0c\u6620\u5c04\u5230\u56fa\u5b9a\u957f\u5ea6\u7684\u54c8\u5e0c\u5b57\u7b26\u4e32\u3002"),(0,n.kt)("p",null,"\u52a0\u5bc6\u54c8\u5e0c\u51fd\u6570\u6ee1\u8db3\u4ee5\u4e0b\u7279\u6027\uff1a\u5bf9\u4efb\u610f\u4e24\u4e2a\u4e0d\u540c\u7684\u6d88\u606f\uff0c\u54c8\u5e0c\u503c\u4e0d\u4e00\u6837\u3002"),(0,n.kt)("p",null,"MD5, SHA-1, SHA-2, SHA-3"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-zsh"},'> md5 -s "abc"\nMD5 ("abc") = 900150983cd24fb0d6963f7d28e17f72\n\n> md5 -s "123456"\nMD5 ("123456") = e10adc3949ba59abbe56e057f20f883e\n')),(0,n.kt)("h2",{id:"mac"},"MAC"),(0,n.kt)("p",null,"Alice \u5c06\u6d88\u606f m \u548c\u5176\u54c8\u5e0c\u503c h \u4e00\u8d77\u53d1\u9001\u7ed9 Bob\uff1bBob \u9a8c\u8bc1 H(m) = h\uff0c\u786e\u4fdd\u4e86\u6d88\u606f\u5b8c\u6574\u6027\u3002"),(0,n.kt)("p",null,"\u4f46\uff0c\u5165\u4fb5\u8005\u4e5f\u53ef\u4ee5\u5047\u88c5\u662f Alice \u5e76\u4e14\u53d1\u9001 (m', H(m'))\uff0c\u90a3\u4e48\u5982\u4f55\u786e\u4fdd\u4fe1\u606f\u5c31\u662f Alice \u53d1\u6765\u7684\u5462\uff1f"),(0,n.kt)("p",null,"Alice \u548c Bob \u9700\u8981\u4e00\u4e2a\u5171\u540c\u7684 authentication key ",(0,n.kt)("em",{parentName:"p"},"s"),"\uff0c\u5e76\u53d1\u9001 (m, H(m + s))\uff0cH(m + s) \u5c31\u79f0\u4e3a MAC\u3002"),(0,n.kt)("p",null,"\u6ce8\u610f\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5e76\u6ca1\u6709\u6d89\u53ca\u660e\u6587-\u5bc6\u6587\u7684\u8f6c\u6362\u3002MAC \u7684\u5e94\u7528\u573a\u666f\u901a\u5e38\u53ea\u5173\u5fc3 message integrity\uff0c\u4e0d\u5173\u5fc3 message confidentiality\u3002"),(0,n.kt)("h2",{id:"\u6570\u5b57\u7b7e\u540d"},"\u6570\u5b57\u7b7e\u540d"),(0,n.kt)("p",null,"Bob \u4f7f\u7528\u4ed6\u7684\u79c1\u94a5\u7b7e\u540d\u4e00\u4efd\u6587\u4ef6\uff08\u901a\u5e38\u662f\u7b7e\u540d\u6587\u4ef6\u6458\u8981/\u54c8\u5e0c\u503c\uff09\uff0cAlice \u4f7f\u7528 Bob \u7684\u516c\u94a5\u89e3\u5bc6\uff0c\u53ef\u4ee5\u8bc1\u660e\u8fd9\u4efd\u6587\u4ef6\u662f Bob \u7684\u3002"),(0,n.kt)("p",null,"\u5f53 Alice \u6536\u5230\u4e86 Bob \u7684\u6570\u5b57\u7b7e\u540d\uff0c\u5979\u9700\u8981\u4f7f\u7528 Bob \u7684\u516c\u94a5\u6765\u9a8c\u8bc1\u3002\u4f46\uff0c\u5982\u4f55\u4fdd\u8bc1\u5979\u624b\u4e0a\u7684\u516c\u94a5\u5c31\u662f Bob \u7684\uff1f"),(0,n.kt)("p",null,"CA \u8d1f\u8d23\u9881\u53d1\u8bc1\u4e66\uff0c\u8bc1\u4e66\u4e2d\u5305\u542b\u4e86 Bob \u548c\u4ed6\u7684\u516c\u94a5\uff0c\u4ee5\u6b64\u8bc1\u660e\u8fd9\u4efd\u516c\u94a5\u5c31\u662f Bob \u7684\u3002CA \u662f\u6709\u516c\u4fe1\u529b\u7684\u673a\u6784\uff0c\u662f\u6211\u4eec\u53ef\u4ee5\u76f8\u4fe1\u7684\u3002"),(0,n.kt)("p",null,"\u8bc1\u4e66\u7531 CA \u7684\u79c1\u94a5\u8fdb\u884c\u6570\u5b57\u7b7e\u540d\uff0cAlice \u4f7f\u7528 CA \u7684\u516c\u94a5\u89e3\u5bc6\uff0c\u8bc1\u660e\u8fd9\u4efd\u8bc1\u4e66\u662f CA \u9881\u53d1\u7684\u3002\u4f46\uff0c\u5982\u4f55\u4fdd\u8bc1\u5979\u624b\u4e0a CA \u7684\u516c\u94a5\u5c31\u662f CA \u7684\u5462\uff1f\uff01"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img",src:l(53668).Z,width:"2374",height:"1322"})),(0,n.kt)("h2",{id:"\u4ee3\u7801\u7b7e\u540d"},"\u4ee3\u7801\u7b7e\u540d"),(0,n.kt)("p",null,"\u4ee3\u7801\u7b7e\u540d\u662f\u5bf9\u5e94\u7528\u7a0b\u5e8f\u53ef\u6267\u884c\u6587\u4ef6\u7684\u6570\u5b57\u7b7e\u540d\u3002"),(0,n.kt)("p",null,"\u901a\u8fc7 App Store \u6e20\u9053\u5206\u53d1\u7684\u5e94\u7528\uff0c\u662f\u600e\u4e48\u7b7e\u540d\u7684\uff1a\u82f9\u679c\u670d\u52a1\u5668\u6301\u6709\u79c1\u94a5\uff0ciOS \u7cfb\u7edf\u5185\u7f6e\u516c\u94a5\u3002App \u4e0a\u4f20\u5230 App Store \u540e\uff0c\u7531\u82f9\u679c\u7528\u79c1\u94a5\u7b7e\u540d\uff0c\u4e0b\u8f7d\u5230\u624b\u673a\u540e\uff0c\u7528\u516c\u94a5\u9a8c\u8bc1\u3002"),(0,n.kt)("p",null,"iOS \u53cc\u5411\u7b7e\u540d\u9a8c\u8bc1\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Mac \u7535\u8111\u901a\u8fc7 CSR \u6587\u4ef6\uff08\u672c\u5730\u516c\u94a5 M\uff09\u5411 App Store \u7533\u8bf7\u8bc1\u4e66\u548c\u63cf\u8ff0\u6587\u4ef6\uff0c\u7531\u82f9\u679c\u7684\u79c1\u94a5 A \u8fdb\u884c\u7b7e\u540d\u3002"),(0,n.kt)("li",{parentName:"ol"},"Mac \u7535\u8111\u62ff\u5230\u7b7e\u540d\u540e\u7684\u8bc1\u4e66\uff0c\u4e0e\u672c\u5730\u79c1\u94a5 M \u8fdb\u884c\u7ed1\u5b9a\uff08\u5373\u5bfc\u51fa\u540e\u7684 p12 \u6587\u4ef6\uff09\u3002"),(0,n.kt)("li",{parentName:"ol"},"Xcode \u5b89\u88c5\u65f6\uff0c\u4f7f\u7528\u672c\u5730\u79c1\u94a5 M \u5bf9 App \u7b7e\u540d\uff0c\u5e76\u5c06\u53ef\u6267\u884c\u6587\u4ef6 + App \u7b7e\u540d + \u63cf\u8ff0\u6587\u4ef6 + \u8bc1\u4e66\u4e00\u8d77\u6253\u5305\u3002"),(0,n.kt)("li",{parentName:"ol"},"iOS \u5b89\u88c5\u65f6\uff0c\u5229\u7528\u5185\u7f6e\u7684\u82f9\u679c\u516c\u94a5 A \u9a8c\u8bc1\u8bc1\u4e66\uff0c\u8bc1\u660e\u662f\u82f9\u679c\u9881\u53d1\u7684\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u53d6\u51fa\u8bc1\u4e66\u4e2d\u7684\u516c\u94a5\uff0c\u9a8c\u8bc1 App \u7684\u7b7e\u540d\u3002")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img",src:l(63843).Z,width:"1369",height:"710"})),(0,n.kt)("p",null,"\u63cf\u8ff0\u6587\u4ef6\u9650\u5236\u4e86\uff1aAppID\u3001\u53ef\u5b89\u88c5\u7684\u8bbe\u5907\u3001\u53ef\u4f7f\u7528\u7684\u6743\u9650\uff08Push\u3001iCloud \u7b49\uff09"),(0,n.kt)("p",null,"\u67e5\u770b CSR \u6587\u4ef6\u5185\u5bb9\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"openssl asn1parse -i -in CertificateSigningRequest.certSigningRequest")),(0,n.kt)("p",null,"\u63cf\u8ff0\u6587\u4ef6\u7684\u5b58\u653e\u4f4d\u7f6e\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"~/Library/MobileDevice/Provisioning\\ Profiles")),(0,n.kt)("p",null,"\u67e5\u770b\u63cf\u8ff0\u6587\u4ef6\u7684\u4fe1\u606f\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"security cms -D -i f2a92752-97d8-4231-9064-20b4811cdd8b.mobileprovision")),(0,n.kt)("p",null,"\u7528 ",(0,n.kt)("a",{parentName:"p",href:"https://sourceforge.net/projects/machoview/"},"MachOView")," \u53ef\u4ee5\u67e5\u770b\u53ef\u6267\u884c\u6587\u4ef6\u91cc\u7684\u4ee3\u7801\u7b7e\u540d\u4fe1\u606f\u3002"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("a",{parentName:"p",href:"https://developer.apple.com/videos/play/wwdc2016/401/"},"WWDC 2016 - What's New in Xcode App Signing"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("a",{parentName:"p",href:"https://developer.apple.com/support/code-signing/"},"Apple Support - Code Signing"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("a",{parentName:"p",href:"https://help.apple.com/xcode/mac/current/#/dev3a05256b8"},"Xcode Help - What is app signing?"))),(0,n.kt)("p",null,"There are three things that you need in order to sign your apps."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Certificates \u6807\u8bc6\u5f00\u53d1\u8005\u8eab\u4efd"),(0,n.kt)("li",{parentName:"ul"},"Provisioning Profiles \u6807\u8bc6\u5e94\u7528\u7a0b\u5e8f\uff0c\u5305\u62ec\u53ef\u5b89\u88c5\u7684\u8bbe\u5907\u548c\u80fd\u529b\uff08\u5176\u4e2d\u80fd\u529b\u901a\u8fc7 entitlement \u6587\u4ef6\uff09"),(0,n.kt)("li",{parentName:"ul"},"Entitlements \u6807\u8bc6\u5e94\u7528\u7a0b\u5e8f\u6bcf\u4e2a target \u7684\u80fd\u529b")),(0,n.kt)("p",null,"Certificates are issued by Apple. This is important because the device needs a trust chain back to Apple so it can install the app. Certificates come in two forms: development and distribution. Certificates require a private key to be in the keychain if you want to sign your apps. \u82f9\u679c\u8bbe\u5907\u4e0d\u5141\u8bb8\u968f\u610f\u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u901a\u8fc7\u4fe1\u4efb\u94fe\u4ee5\u8bc1\u660e\u5b83\u662f\u7531\u82f9\u679c\u4fe1\u4efb\u7684\u5f00\u53d1\u8005\u53d1\u5e03\u7684\u3002"),(0,n.kt)("p",null,"Profiles grant permissions. They allow access to running on devices and entitlements. There's a white list of entitlements in a profile. Entitlements declare capabilities."))}u.isMDXComponent=!0},63843:(e,t,l)=>{l.d(t,{Z:()=>i});const i=l.p+"assets/images/\u5e94\u7528\u7b7e\u540d\u539f\u7406-0010-ffb6cc3908a83e359a0ed416cdfc4e1e.png"},53668:(e,t,l)=>{l.d(t,{Z:()=>i});const i=l.p+"assets/images/\u622a\u5c4f2020-10-1116.58.44-4c58e25cd23f47cfc6c081e86f742dc5.png"}}]);